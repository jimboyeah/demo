<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>ECharts</title>
	<link rel="stylesheet" href="theme.css">
	<style>#example { background: rgba(255,255,255, 0.96) !important;} #toolbox {top:22vh}</style>
</head>
<body class="half">
	<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
	<div id="example" style=""></div>

	<!-- <script src="../echarts-2.2.7/build/dist/echarts-all.js"></script> -->
	<script src="./echarts-4.2.1/dist/echarts.js"></script>
    <script src="./utils.js"></script>
	<script src="./echarts-4.2.1/dist/echarts-en.js"></script>
	<!-- CDN 方式引入 -->
	<!-- <script src="https://cdn.bootcss.com/echarts/4.2.1/echarts.min.js"></script> -->

	<!-- 3D扩展 -->
	<!-- <script src="./echarts-4.2.1/dist/echarts-gl.js"></script> -->

	<!-- 需要百度地图与地图扩展 -->
	<!-- <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=p1EQvKECSm8LMV249TxNB2dT"></script> -->
	<!-- <script src="http://www.echartsjs.com/examples/vendors/echarts/extension/bmap.js?_v_=1536959211921"></script> -->
	<!-- <script src="./echarts-4.2.1/dist/extension/bmap.js"></script> -->
	
	<!-- 使用旧版离线地图 -->
	<script src="../map/js/world.js"></script>
	<!-- <script src="../map/js/china.js"></script> -->
	<!-- <script src="../map/js/province/guangdong.js"></script> -->

	<script type="text/javascript">


var ROOT_PATH = "../"
var weatherIcons = {
    'Sunny': ROOT_PATH + 'imgs/weather/sunny_128.png',
    'Cloudy': ROOT_PATH + 'imgs/weather/cloudy_128.png',
    'Showers': ROOT_PATH + 'imgs/weather/showers_128.png'
};

var seriesLabel = {
    normal: {
        show: true,
        textBorderColor: '#333',
        textBorderWidth: 2
    }
}

option = {
    title: {
        text: '数据对比'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend: {
        data: ['三天', '三周', '三月']
    },
    grid: {
        left: 100
    },
    toolbox: {
        show: true,
        feature: {
            saveAsImage: {}
        }
    },
    xAxis: {
        type: 'category',
        name: 'Days',
        axisLabel: {
            formatter: '{value}'
        }
    },
    yAxis: {
        type: 'category',
        inverse: true,
        data: ['Sunny', 'Cloudy', 'Showers'],
        axisLabel: {
            formatter: function (value,b,c,d) {
            	console.log('format', value,b,c,d);
                return '{' + value + '| }\n{values|' + value + '}';
            },
            margin: 20,
            rich: {
                value: {
                    lineHeight: 30,
                    align: 'center'
                },
                Sunny: {
                    height: 40,
                    align: 'center',
                    backgroundColor: {
                        image: weatherIcons.Sunny
                    }
                },
                Cloudy: {
                    height: 40,
                    align: 'center',
                    backgroundColor: {
                        image: weatherIcons.Cloudy
                    }
                },
                Showers: {
                    height: 40,
                    align: 'center',
                    backgroundColor: {
                        image: weatherIcons.Showers
                    }
                }
            }
        }
    },
    series: [
        {
            name: 'City Alpha',
            type: 'bar',
            data: [165, 170, 30],
            label: seriesLabel,
            markPoint: {
                symbolSize: 1,
                symbolOffset: [0, '50%'],
                label: {
                   normal: {
                        formatter: '{a|{a}\n}{b|{b} }{c|{c}}',
                        backgroundColor: 'rgb(242,242,242)',
                        borderColor: '#aaa',
                        borderWidth: 1,
                        borderRadius: 4,
                        padding: [4, 10],
                        lineHeight: 26,
                        // shadowBlur: 5,
                        // shadowColor: '#000',
                        // shadowOffsetX: 0,
                        // shadowOffsetY: 1,
                        position: 'right',
                        distance: 20,
                        rich: {
                            a: {
                                align: 'center',
                                color: '#fff',
                                fontSize: 18,
                                textShadowBlur: 2,
                                textShadowColor: '#000',
                                textShadowOffsetX: 0,
                                textShadowOffsetY: 1,
                                textBorderColor: '#333',
                                textBorderWidth: 2
                            },
                            b: {
                                 color: '#333'
                            },
                            c: {
                                color: '#ff8811',
                                textBorderColor: '#000',
                                textBorderWidth: 1,
                                fontSize: 22
                            }
                        }
                   }
                },
                data: [
                    {type: 'max', name: 'max days: '},
                    {type: 'min', name: 'min days: '}
                ]
            }
        },
        {
            name: 'City Beta',
            type: 'bar',
            label: seriesLabel,
            data: [150, 105, 110]
        },
        {
            name: 'City Gamma',
            type: 'bar',
            label: seriesLabel,
            data: [220, 82, 63]
        }
    ]
};


// import React, { Component } from 'react';
// impott Echarts from 'echart-for-react';
// export default class Map extends Component {

//   static displayName = 'Map';
//   static propTypes = {};
//   static defaultProps = {};

//   constructor(props) {
//     super(props);
//     this.state = {};
//   }

//   onSelect = (e) => {
//     console.log("onSelect...", e);
//   }
	
//   onClick = (e) => {
//     console.log("onClick...", e);
//   }
	
//   onlegendselectchanged = (e) => {
//     console.log("onlegendselectchanged...", e);
//   }

//   render() {
//     let handlers = { geoselected: this.onSelect, click: this.onClick };
//     return (
//       <Echarts onEvents={handlers} option={option} style={{ height: '650px' }} />
//     );
//   }
// }
// 
// export default Map


		var myChart;
		render(option)

		myChart.on('click', "series", function (e) {
				console.log("on series click", echarts.version, e);
		});
		myChart.on('geoselected', function (e) {
				console.log("on geoselected", echarts.version, e);
		});
		myChart.on('legendselectchanged', function (e) {
				console.log("on legendselectchanged", echarts.version, e);
		});


		// 图表渲染方法
		function render(option) {
				// 基于准备好的dom，初始化echarts图表
				myChart = echarts.init(document.getElementById('example')); 
				// 为echarts对象加载数据 
				myChart.setOption(option);
		}
		</script>

</body>