<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAABE0AA8AAAAAHWwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY3d1HZY21hcAAAAdgAAACqAAACOvWLi0FjdnQgAAAChAAAABMAAAAgBtX/BGZwZ20AAAKYAAAFkAAAC3CKkZBZZ2FzcAAACCgAAAAIAAAACAAAABBnbHlmAAAIMAAABdQAAAjkYT9TNWhlYWQAAA4EAAAAMwAAADYQ6WvNaGhlYQAADjgAAAAfAAAAJAc6A1pobXR4AAAOWAAAACAAAAA0Kmz/7mxvY2EAAA54AAAAHAAAABwQPBJubWF4cAAADpQAAAAgAAAAIAEHC/NuYW1lAAAOtAAAAYQAAALxhQT4h3Bvc3QAABA4AAAAfgAAAMS3SYh9cHJlcAAAELgAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZHZmnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4Pwz+yMwf9z2KIYg5imAYUZgTJAQDcoQvQAHic7ZHNDYJAFIRnBXf94cDRIiyCKkCpwFCPJ092RcKNDoYKcN4+EmMPvpdvk539zQyAPYBCXEUJhBcCrJ5SQ9YLnLJe4qF5rdb+uWPDngNHTkta101pNyWa8lMhn6xx2dqUnW4q9YOIhAOOeueMSgsR/6ry+P7O5s6xVNg4chBsHUuFnWNJ8uZYwrw7chrsHXkODo7cB0dHOYCTY8kv0VE2WJKD6gOlWjsxAAB4nGNgQAMSEMgc9D8LhAESbAPdAHicrVZpd9NGFB15SZyELCULLWphxMRpsEYmbMGACUGyYyBdnK2VoIsUO+m+8Ynf4F/zZNpz6Dd+Wu8bLySQtOdwmpOjd+fN1czbZRJaktgL65GUmy/F1NYmjew8CemGTctRfCg7eyFlisnfBVEQrZbatx2HREQiULWusEQQ+x5ZmmR86FFGy7akV03KLT3pLlvjQb1V334aOsqxO6GkZjN0aD2yJVUYVaJIpj1S0qZlqPorSSu8v8LMV81QwohOImm8GcbQSN4bZ7TKaDW24yiKbLLcKFIkmuFBFHmU1RLn5IoJDMoHzZDyyqcR5cP8iKzYo5xWsEu20/y+L3mndzk/sV9vUbbkQB/Ijuzg7HQlX4RbW2HctJPtKFQRdtd3QmzZ7FT/Zo/ymkYDtysyvdCMYKl8hRArP6HM/iFZLZxP+ZJHo1qykRNB62VO7Es+gdbjiClxzRhZ0N3RCRHU/ZIzDPaYPh788d4plgsTAngcy3pHJZwIEylhczRJ2jByYCVliyqp9a6YOOV1WsRbwn7t2tGXzmjjUHdiPFsPHVs5UcnxaFKnmUyd2knNoykNopR0JnjMrwMoP6JJXm1jNYmVR9M4ZsaERCICLdxLU0EsO7GkKQTNoxm9uRumuXYtWqTJA/Xco/f05la4udNT2g70s0Z/VqdiOtgL0+lp5C/xadrlIkXp+ukZfkziQdYCMpEtNsOUgwdv/Q7Sy9eWHIXXBtju7fMrqH3WRPCkAfsb0B5P1SkJTIWYVYhWQGKta1mWydWsFqnI1HdDmla+rNMEinIcF8e+jHH9XzMzlpgSvt+J07MjLj1z7UsI0xx8m3U9mtepxXIBcWZ5TqdZlu/rNMfyA53mWZ7X6QhLW6ejLD/UaYHlRzodY3lBC5p038GQizDkAg6QMISlA0NYXoIhLBUMYbkIQ1gWYQjLJRjC8mMYwnIZhrC8rGXV1FNJ49qZWAZsQmBijh65zEXlaiq5VEK7aFRqQ54SbpVUFM+qf2WgXjzyhjmwFkiXyJpfMc6Vj0bl+NYVLW8aO1fAsepvH472OfFS1ouFPwX/1dZUJb1izcOTq/Abhp5sJ6o2qXh0TZfPVT26/l9UVFgL9BtIhVgoyrJscGcihI86nYZqoJVDzGzMPLTrdcuan8P9NzFCFlD9+DcUGgvcg05ZSVnt4KzV19uy3DuDcjgTLEkxN/P6VvgiI7PSfpFZyp6PfB5wBYxKZdhqA60VvNknMQ+Z3iTPBHFbUTZI2tjOBIkNHPOAefOdBCZh6qoN5E7hhg34BWFuwXknXKJ6oyyH7kXs8yik/Fun4kT2qGiMwLPZG2Gv70LKb3EMJDT5pX4MVBWhqRg1FdA0Um6oBl/G2bptQsYO9CMqdsOyrOLDxxb3lZJtGYR8pIjVo6Of1l6iTqrcfmYUl++dvgXBIDUxf3vfdHGQyrtayTJHbQNTtxqVU9eaQ+NVh+rmUfW94+wTOWuabronHnpf06rbwcVcLLD2bQ7SUiYX1PVhhQ2iy8WlUOplNEnvuAcYFhjQ71CKjf+r+th8nitVhdFxJN9O1LfR52AM/A/Yf0f1A9D3Y+hyDS7P95oTn2704WyZrqIX66foNzBrrblZugbc0HQD4iFHrY64yg18pwZxeqS5HOkh4GPdFeIBwCaAxeAT3bWM5lMAo/mMOT7A58xh0GQOgy3mMNhmzhrADnMY7DKHwR5zGHzBnHWAL5nDIGQOg4g5DJ4wJwB4yhwGXzGHwdfMYfANc+4DfMscBjFzGCTMYbCv6dYwzC1e0F2gtkFVoANTT1jcw+JQU2XI/o4Xhv29Qcz+wSCm/qjp9pD6Ey8M9WeDmPqLQUz9VdOdIfU3Xhjq7wYx9Q+DmPpMvxjLZQa/jHyXCgeUXWw+5++J9w/bxUC5AAEAAf//AA94nIVVX2hbZRQ/5/t7893s5ja9f7ouzdZ0TTqz3bRJmogbWya6bG6Cq0VbSV2ddIJjFtfIQHEig80Hda8yUN/0YQz8AyriiyD+xQd92R4HCnaCb3samnpumrpsCsLlfPf7zvedc37nL3CAtc/5W/wQZGA3tOBSY/g+TMjHmwzEoM1Q8+ZjRZY4oJhmBw5/YB6Za0yC5AkhlwA1A1yCBIBOwCII0Cj0U8BAMdUCzq05sKwkP7SlUY6fcJk4Fb/RyE79/6P5hjM/F4aZiXBoeMgzcqQ4Xi1hPqfDLG5FT+lchCVU3lYMyvuwhl1mqndQL0RsuloLywHtthLXI06OblTrhfWVnpSJ5+mwu/JdbtuN3IAnkW0LLMcRwaC7ktrlzridM6kVdyf9uO1UNBByI7JhwtG2sEwab07ORBeilWhqavJCqV0qzZTOl/7ZXQ5TbTcdcFelyGhhRDAQpdqp1FEX3w3cFTc1k9pJQkmm4ySCbSikxRP2QOfN+0tHS5MrpQuTU1Mk5nw0E5Xa0WvrOwDyGax9yB9ma6DAg82wHc43SAGTI4GjBWebOePAERFE8/AHaQpZASSTy8A4WwZiLQMQ82mFKATO0ILicRAoDm9p5P99E5b/fXG+kQYY3TYUuqmERWYoT0u/GNYL2q/4WB3LaVS+VynXsVYIcWw6DkCh3nX1D+VzlYN4LClF5yexSQos8exqZ3KVP+wtrC54u4Nznq6cq+xpMpUUnZ8FUYzE86ud0g28NOIv3Gj5/rmA3ABs7S/ywzFuQ4qyd6QxfNtiQIaEgp3w/entQg4Vcbqa16M5FfpeUB8t1+qeg7mI7cUyOe79wOk86gSxkVec4KPTX69++5x68Yubn5/F+w52z7u08sJX7fZXv8ekT/d2mILJxq6sn+SC6qEJknzLJCxyZEKwWVqYmAPBxBE/9DLeZiWHu7lcr/VytrCRuHojncNuTt9h46tmacmYisnSamdN2bZptcsmSysdVsy1PrOvOzF3xN64Rb937t/og9KHxYdcjIUqFAmIAHGHNzlns+RTPgeUYAQm9DwpNxfxbhhBHPaw3/gfTcXO2L+eJVIx5nsyGkvm9X4/f+bGkH45G0PaSjcMXTjcZyTvi3UdHoCDjQd3IDUVsgwYmUoJK/gp4JJxeRI0MKHZIkgynyIBqBTOUs6rOVCojvjZ4mCQz49ZMlMcp8QoYk6NoBfsxnJtsBohpa8iGJS+ZH7gU7NxME6cmF+t7cO9vB8d3jTWSct0ycW9ranXmolNDwmVkNnxe+8JtoztwS5rKJ0xWS95tQ/1zMYzg69MzUZnNtl1ofNbsml/OJm6f9wjRjpnu2o4MzHzn77IQkRd+1DjwMQ2pqSjGMMhyjrgTbBAKksuUm0iU7hI0aN2wOKOq7WYBSH0HGihj/jkiPxAfmwsEbfYrjMG+j3ij932Db/LV7I/xruNrhnroxjR9HRMb2nTvO0ZXOoHPk8H2ZhDPx93qcE/53sH5np/dkIP7zzhTVKdR/BAY/9ElkkR+A6lJGsqpJ4oQcTxpvBT3Kn58VkaJjgHyPEIws57xkaHh9KuVpDEpJZeMbZ5w/zBHi5NMQ4r5VphsFqID7TyB9eR4pX216c3AHxpdAwoqU9qg0ZJ6yVLKmMSz1iG2z27ifx18NkY0LPx1W/wCc2l5LrznrIsiKsqbmB78A9wIGx4tI8rjihVHJyY9pgMirenVq0yWg7Iw7eogG7ZgYM3qR9959A/fZkg6MnD/exlkmc+jWV4SB15XUR+eqC6l6ZmgPtN9z5JMfik05OV8ljylunJ4J+wA/FUaQSSKotsYsCWqaPBidBLcxkWx7XKFRIb45TGaEhjlF9uUVPqXOtcIwsXbBvfoZXIyRYFdkfnqjExH98xpnPczqzjX/uNdO1Y17Wpi5+6Ts8BXtjVFasp9KZ1mOiNbH65c5w6HgmyF2jFCZywM8mWjRc7T5Pmt0lRy7Y71+jYbpGyvwG4sH0XeJxjYGRgYADiwBB/53h+m68M3MwvgCIM1z5N/g6j///9v5H5BbMnkMvBwAQSBQCIcA9gAHicY2BkYGAO+p8FJF/8//v/F/MLBqAICuAFALYQB5kAeJxjfsHAwLwAiCNB+P9fbJjJmoGBMRUo/wKCAfO2EnQAAAAAANoBXgGcAgICVALaA1IDvAPkBAYEPARyAAEAAAANAF0ABAAAAAAAAgAUACQAcwAAAG4LcAAAAAB4nHWRzWrCQBSFT+pPqUIXLXTTzayKUohGKIibCoLuhbrrYtTRxCYZmYyKyz5Fd32HvlDfoO/QkziIFJtw9bvnnpl7ZwLgBt/wcHieGAf2UGd24Atcou+4RH3kuEweO66QXx1XyaHjGh6ROa7jFp/cwStfMVvhy7GHO+/e8QWuvcBxifqz4zL5xXGF/Oa4Sn53XMPE+3Bcx4P3M9DrvYmWoRWNQVN02kFXTPdCU4pSGQu5saE2meiLhU6timPtz3SSs9ypTCdqrJabWJoT5QQnymSRTkXgt0/UkUqVkVbN807ZdtmxdiEWRidi6HqItdErNbN+aO2612qd9sYAGmvsYRBhyUu0EGhQbfK/gzYCdElTOgSdB1eEFBIxFYkNV4RFJWPeZyyYpVQVHTHZx4y/yVGX2LGWFZri51TccUOn5B7nPefVCSPvGhVVwUl9znveO2KkhV8Wk82PZ8qwZf8OVcu1+fSmWCMw/HMOwXvKaysqM+p+cVuWag8tvv+c+xdd+4+teJxtjUEOwiAURJla24KliQfhUA2g/Sl+CKXx+loNrpzVezOLEY34Ron/0WhwQoszOvQYIKFwwQiNSbSBeO2SZ0tBP4j3zVjKNng32ZmtD1VVXCuOiw/pJ8S3WOU6l+K5UOTaDC4+2TjKMtN9KQf1ezLx/Sg/00FCvABHhjDjAAB4nGPw3sFwIihiIyNjX+QGxp0cDBwMyQUbGVidNjEwMmiBGJu5mBg5ICw+BjCLzWkX0wGgNCeQze60i8EBwmZmcNmowtgRGLHBoSNiI3OKy0Y1EG8XRwMDI4tDR3JIBEhJJBBs5mFi5NHawfi/dQNL70YmBhcADHYj9AAA) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><style>/*GitHub*/
.codehilite {background-color:#fff;color:#333333;}
.codehilite .hll {background-color:#ffffcc;}
.codehilite .c{color:#999988;font-style:italic}
.codehilite .err{color:#a61717;background-color:#e3d2d2}
.codehilite .k{font-weight:bold}
.codehilite .o{font-weight:bold}
.codehilite .cm{color:#999988;font-style:italic}
.codehilite .cp{color:#999999;font-weight:bold}
.codehilite .c1{color:#999988;font-style:italic}
.codehilite .cs{color:#999999;font-weight:bold;font-style:italic}
.codehilite .gd{color:#000000;background-color:#ffdddd}
.codehilite .ge{font-style:italic}
.codehilite .gr{color:#aa0000}
.codehilite .gh{color:#999999}
.codehilite .gi{color:#000000;background-color:#ddffdd}
.codehilite .go{color:#888888}
.codehilite .gp{color:#555555}
.codehilite .gs{font-weight:bold}
.codehilite .gu{color:#800080;font-weight:bold}
.codehilite .gt{color:#aa0000}
.codehilite .kc{font-weight:bold}
.codehilite .kd{font-weight:bold}
.codehilite .kn{font-weight:bold}
.codehilite .kp{font-weight:bold}
.codehilite .kr{font-weight:bold}
.codehilite .kt{color:#445588;font-weight:bold}
.codehilite .m{color:#009999}
.codehilite .s{color:#dd1144}
.codehilite .n{color:#333333}
.codehilite .na{color:teal}
.codehilite .nb{color:#0086b3}
.codehilite .nc{color:#445588;font-weight:bold}
.codehilite .no{color:teal}
.codehilite .ni{color:purple}
.codehilite .ne{color:#990000;font-weight:bold}
.codehilite .nf{color:#990000;font-weight:bold}
.codehilite .nn{color:#555555}
.codehilite .nt{color:navy}
.codehilite .nv{color:teal}
.codehilite .ow{font-weight:bold}
.codehilite .w{color:#bbbbbb}
.codehilite .mf{color:#009999}
.codehilite .mh{color:#009999}
.codehilite .mi{color:#009999}
.codehilite .mo{color:#009999}
.codehilite .sb{color:#dd1144}
.codehilite .sc{color:#dd1144}
.codehilite .sd{color:#dd1144}
.codehilite .s2{color:#dd1144}
.codehilite .se{color:#dd1144}
.codehilite .sh{color:#dd1144}
.codehilite .si{color:#dd1144}
.codehilite .sx{color:#dd1144}
.codehilite .sr{color:#009926}
.codehilite .s1{color:#dd1144}
.codehilite .ss{color:#990073}
.codehilite .bp{color:#999999}
.codehilite .vc{color:teal}
.codehilite .vg{color:teal}
.codehilite .vi{color:teal}
.codehilite .il{color:#009999}
.codehilite .gc{color:#999;background-color:#EAF2F5}
</style><title>readme_bizCharts</title></head><body><article class="markdown-body"><h1 id="bizcharts-iceworks">BizCharts &amp; iceWorks 飞冰<a class="headerlink" href="#bizcharts-iceworks" title="Permanent link"></a></h1>
<p><a href="https://github.com/alibaba/BizCharts">BizCharts</a>
<a href="https://ice.work/scaffold">iceWorks 飞冰模板 阿里前端框架</a>
<a href="https://github.com/alibaba/BizCharts/tree/master/doc">bizCharts 文档</a>
<a href="https://juejin.im/post/5c0f45edf265da61327f285c">数据可视化，BizCharts图表库入坑历程</a>
<a href="https://www.bookstack.cn/read/alibaba-ice/docs-advanced-webpackrc.md">ice-scripts 使用指南</a>
<a href="https://ice.work/docs/cli/config/config">iceWorks 基础配置</a>
<a href="https://ice.work/docs/cli/config/custom-webpack">iceWorks Webpack 配置</a></p>
<div class="toc">
<ul>
<li><a href="#bizcharts-iceworks">BizCharts &amp; iceWorks 飞冰</a></li>
<li><a href="#installation">installation</a></li>
<li><a href="#load-by-models">Load by models</a></li>
<li><a href="#gettingstart">GettingStart</a></li>
<li><a href="#basic">Basic</a></li>
<li><a href="#basic-for-cdn">Basic for CDN</a></li>
<li><a href="#demos">Demos</a></li>
<li><a href="#bizcharts">BizCharts 图表构成组件</a><ul>
<li><a href="#chart">Chart</a></li>
<li><a href="#coord">Coord</a></li>
<li><a href="#axis">Axis</a></li>
<li><a href="#geom">Geom</a></li>
<li><a href="#label">Label</a></li>
<li><a href="#legend">Legend</a></li>
<li><a href="#guide">Guide</a></li>
<li><a href="#facet">Facet</a></li>
<li><a href="#view">View</a></li>
<li><a href="#g2">G2</a></li>
<li><a href="#animate">Animate</a></li>
<li><a href="#shape">Shape</a></li>
<li><a href="#settheme">setTheme</a></li>
<li><a href="#interaction">Interaction 图表交互</a></li>
<li><a href="#pathutil">PathUtil</a></li>
<li><a href="#_1">源数据的处理</a></li>
<li><a href="#dataset-package">DataSet Package</a></li>
<li><a href="#_2">如何自定义动画</a></li>
<li><a href="#_3">图表类型</a></li>
</ul>
</li>
<li><a href="#chart_1">Chart</a><ul>
<li><a href="#chartanimate">Chart.animate</a></li>
<li><a href="#chartbackground">Chart.background</a></li>
<li><a href="#chartclassname">Chart.className</a></li>
<li><a href="#chartdata">Chart.data</a></li>
<li><a href="#chartfilter">Chart.filter</a></li>
<li><a href="#chartforcefit">Chart.forceFit</a></li>
<li><a href="#chartheight">Chart.height</a></li>
<li><a href="#chartwidth">Chart.width</a></li>
<li><a href="#chartpadding">Chart.padding</a></li>
<li><a href="#chartpixelratio">Chart.pixelRatio</a></li>
<li><a href="#chartplaceholder">Chart.placeholder</a></li>
<li><a href="#chartplotbackground">Chart.plotBackground</a></li>
<li><a href="#chartrenderer">Chart.renderer</a></li>
<li><a href="#chartscale">Chart.scale</a></li>
<li><a href="#chartstyle">Chart.style</a></li>
<li><a href="#charttheme">Chart.theme</a></li>
</ul>
</li>
<li><a href="#coord_1">Coord</a><ul>
<li><a href="#coordtype">Coord.type</a></li>
<li><a href="#coordrotate">Coord.rotate</a></li>
<li><a href="#coordscale">Coord.scale</a></li>
<li><a href="#coordreflect">Coord.reflect</a></li>
<li><a href="#coordrect">Coord.rect 直角坐标系</a></li>
<li><a href="#coordpolar">Coord.polar 极坐标系</a></li>
<li><a href="#coordtheta">Coord.theta 极坐标系</a></li>
<li><a href="#coordgauge">Coord.gauge 极坐标系</a></li>
<li><a href="#coordclock">Coord.clock 类型的极坐标系配置</a></li>
<li><a href="#coordmap">Coord.map 地理坐标系</a></li>
<li><a href="#coordhelix">Coord.helix 螺旋坐标系配置</a></li>
</ul>
</li>
<li><a href="#geom_1">Geom</a><ul>
<li><a href="#geomtype">Geom.type</a></li>
<li><a href="#geomadjust-adjusttype">Geom.adjust adjustType</a></li>
<li><a href="#geomposition">Geom.position</a></li>
<li><a href="#geomcolor">Geom.color</a></li>
<li><a href="#geomshape">Geom.shape</a></li>
<li><a href="#geomsize">Geom.size</a></li>
<li><a href="#geomopacity">Geom.opacity</a></li>
<li><a href="#geomstyle">Geom.style</a></li>
<li><a href="#geomtooltip">Geom.tooltip</a></li>
<li><a href="#geomselect">Geom.select</a></li>
<li><a href="#geomactive">Geom.active</a></li>
<li><a href="#geomanimate">Geom.animate</a></li>
<li><a href="#geomhide">Geom.hide</a></li>
</ul>
</li>
<li><a href="#axis_1">Axis</a></li>
<li><a href="#label_1">Label</a><ul>
<li><a href="#labelcontent-string-arraystring-function">Label.content    * String | Array:[String, Function] *</a></li>
<li><a href="#labellabelline-object">Label.labelLine     * Object *</a></li>
<li><a href="#labeloffset-number">Label.offset   * Number *</a></li>
<li><a href="#labeltextstyle-object">Label.textStyle   * Object *</a></li>
<li><a href="#labelautorotate-boolean">Label.autoRotate     * Boolean *</a></li>
<li><a href="#labelformatter-function">Label.formatter      * Function *</a></li>
<li><a href="#labelhtmltemplate-function">Label.htmlTemplate   * Function *</a></li>
<li><a href="#tooltip">ToolTip</a></li>
<li><a href="#tooltipshowtitle-boolean">ToolTip.showTitle    * Boolean *</a></li>
<li><a href="#tooltipcrosshairs-object">ToolTip.crosshairs   * Object *</a></li>
<li><a href="#tooltipoffset-number">ToolTip.offset   * Number *</a></li>
<li><a href="#tooltipcontainertpl-string">ToolTip.containerTpl     * String *</a></li>
<li><a href="#tooltipitemtpl-string">ToolTip.itemTpl  String</a></li>
<li><a href="#tooltip-g2-tooltip-g2-tooltip-title-g2-tooltip-list-g2-tooltip-list-item-g2-tooltip-marker-object">ToolTip. g2-tooltip | g2-tooltip-title | g2-tooltip-list | g2-tooltip-list-item | g2-tooltip-marker  Object</a></li>
<li><a href="#tooltipinplot-boolean">ToolTip.inPlot   * Boolean *</a></li>
<li><a href="#tooltipfollow-boolean">ToolTip.follow   * Boolean *</a></li>
<li><a href="#tooltipshared-boolean">ToolTip.shared   * Boolean *</a></li>
<li><a href="#tooltipposition-topbottomleftright">ToolTip.position     * &lsquo;top&rsquo;|&rsquo;bottom&rsquo;|&rsquo;left&rsquo;|&rsquo;right&rsquo; *</a></li>
<li><a href="#tooltiptriggeron-stringmousemoveclicknone">ToolTip.triggerOn * String:[&lsquo;mousemove&rsquo;|&rsquo;click&rsquo;|&rsquo;none&rsquo;] *</a></li>
<li><a href="#tooltiptitle-string">ToolTip.title * string *</a></li>
<li><a href="#tooltipenterable-boolean">ToolTip.enterable * boolean *</a></li>
<li><a href="#_4">其他配置</a><ul>
<li><a href="#tooltip_1">格式化 tooltip 显示内容</a></li>
<li><a href="#tooltip_2">固定位置显示 tooltip</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_5">示例</a><ul>
<li><a href="#_6">样式配置</a></li>
<li><a href="#_7">自定义</a></li>
</ul>
</li>
<li><a href="#legend_1">Legend</a><ul>
<li><a href="#1name-string">1、name      String</a></li>
<li><a href="#2visible-boolean">2、visible       Boolean</a></li>
<li><a href="#3position-topleftrightbottom">3、position      ‘top’|‘left’|‘right’|‘bottom’</a></li>
<li><a href="#4title-boolean">4、title     Boolean</a></li>
<li><a href="#5offsetx-number">5、offsetX       Number</a></li>
<li><a href="#6offsety-number">6、offsetY   Number</a></li>
<li><a href="#7itemgap-number">7、itemGap   Number</a></li>
<li><a href="#8itemmarginbottom-number">8、itemMarginBottom  Number</a></li>
<li><a href="#9itemwidth-number">9、itemWidth     Number</a></li>
<li><a href="#10unchecked-number">10、unChecked    Number</a></li>
<li><a href="#11background-number">11、background   Number</a></li>
<li><a href="#12allowallcanceled-boolean">12、allowAllCanceled     Boolean</a></li>
<li><a href="#13itemformatter-function">13、itemFormatter    Function</a></li>
<li><a href="#14marker-string">14、marker   String</a></li>
<li><a href="#15textstyle-object">15、textStyle    Object</a></li>
<li><a href="#16clickable-boolean">16、clickable    Boolean</a></li>
<li><a href="#17hoverable-boolean">17、hoverable Boolean</a></li>
<li><a href="#18selectedmode-single-multiple">18、selectedMode     &lsquo;single&rsquo; | &lsquo;multiple&rsquo;</a></li>
<li><a href="#19onhover-function">19、onHover  Function</a></li>
<li><a href="#20onclick-function">20、onClick  Function</a></li>
<li><a href="#html">分类 html 自定义图例</a><ul>
<li><a href="#1usehtml-boolean-function">1、useHtml Boolean | Function</a></li>
<li><a href="#2container-string">2、container String</a></li>
<li><a href="#3containertpl-string">3、containerTpl String</a></li>
<li><a href="#4itemtpl-string-function">4、itemTpl String | Function</a></li>
<li><a href="#5g2-legend-g2-legend-item-g2-legend-list-item-g2-legend-marker-g2-legend-text-object">5、g2-legend | g2-legend-item | g2-legend-list-item | g2-legend-marker | g2-legend-text |  Object</a></li>
<li><a href="#6scroll-boolean">6、scroll Boolean</a></li>
</ul>
</li>
<li><a href="#_8">连续图例</a><ul>
<li><a href="#1slidable-boolean">1、slidable  Boolean</a></li>
<li><a href="#2width-number">2、width     Number</a></li>
<li><a href="#2height-number">2、height Number</a></li>
</ul>
</li>
<li><a href="#_9">自定义混合图例</a><ul>
<li><a href="#1custom-boolean">1、custom    Boolean</a></li>
<li><a href="#2items-object">2、items     Object</a></li>
</ul>
</li>
<li><a href="#_10">示例</a></li>
</ul>
</li>
<li><a href="#guide_1">Guide</a></li>
<li><a href="#facet_1">Facet</a><ul>
<li><a href="#1type-rect-list-circle-tree-mirror">1、type  * &lsquo;rect&rsquo; | &lsquo;list&rsquo; | &lsquo;circle&rsquo; | &lsquo;tree&rsquo; | &lsquo;mirror&rsquo; *</a></li>
<li><a href="#2fields-string-array">2、fields    * String | Array *</a></li>
<li><a href="#3padding-number">3、padding   * Number *</a></li>
<li><a href="#4showtitle-boolean">4、showTitle     * Boolean *</a></li>
<li><a href="#5autosetaxis-boolean">5、autoSetAxis   * Boolean *</a></li>
<li><a href="#6coltitle-object-null">6、colTitle  * Object | null *</a></li>
<li><a href="#7rowtitle-object-null">7、rowTitle  * Object | null *</a></li>
<li><a href="#8eachview-function">8、eachView  * Function *</a></li>
</ul>
</li>
<li><a href="#_11">分面类型</a><ul>
<li><a href="#rect">rect 矩形分面</a></li>
<li><a href="#list">list 水平列表分面</a></li>
<li><a href="#circle">circle 圆形分面</a></li>
<li><a href="#tree">tree 树形分面</a></li>
<li><a href="#mirror">mirror 镜像分面</a></li>
<li><a href="#matrix">matrix 矩阵分面</a></li>
</ul>
</li>
<li><a href="#view_1">View</a></li>
<li><a href="#g2_1">G2</a></li>
<li><a href="#animate_1">Animate</a></li>
<li><a href="#shape_1">Shape</a><ul>
<li><a href="#shapegetpoints">Shape.getPoints</a></li>
<li><a href="#shapedraw">Shape.draw</a></li>
<li><a href="#shape_2">Shape 方法</a></li>
<li><a href="#parsepoint">parsePoint</a></li>
<li><a href="#parsepoints">parsePoints</a></li>
<li><a href="#parsepath">parsePath</a></li>
<li><a href="#_12">代码示例</a></li>
</ul>
</li>
<li><a href="#sliderplugin">sliderPlugin</a><ul>
<li><a href="#installation_1">Installation</a></li>
<li><a href="#sliderpluginwidth">sliderPlugin.width</a></li>
<li><a href="#sliderpluginheight">sliderPlugin.height</a></li>
<li><a href="#sliderpluginpadding">sliderPlugin.padding</a></li>
<li><a href="#sliderpluginxaxis">sliderPlugin.xAxis</a></li>
<li><a href="#sliderpluginyaxis">sliderPlugin.yAxis</a></li>
<li><a href="#sliderplugindata">sliderPlugin.data</a></li>
<li><a href="#sliderpluginstart">sliderPlugin.start</a></li>
<li><a href="#sliderpluginend">sliderPlugin.end</a></li>
<li><a href="#sliderpluginscales">sliderPlugin.scales</a></li>
<li><a href="#sliderpluginfillerstyle-object">sliderPlugin.fillerStyle object</a></li>
<li><a href="#sliderpluginbackgroundstyle">sliderPlugin.backgroundStyle</a></li>
<li><a href="#sliderplugintextstyle">sliderPlugin.textStyle</a></li>
<li><a href="#sliderpluginhandlestyle">sliderPlugin.handleStyle</a></li>
<li><a href="#sliderpluginbackgroundchart">sliderPlugin.backgroundChart</a></li>
<li><a href="#onchange">onChange</a></li>
</ul>
</li>
</ul>
</div>
<p>飞冰 Iceworks 是阿里 Fusion Design 体现下的面向开发者的框架，其图标库采样了 BizCharts，也采样了百度的 Echarts。通过官方提供的 Iceworks GUI 工具和 ice-scripts 脚手架工具可以快速复用 Iceworks 的模板工程。</p>
<p><code>&lt;Chart forceFix /&gt;</code> 可以让图表自适应，宽度，但是注意了，缩小就挂掉了并不自适应。实验测试表明，如果Chart组件的父组件Father采用flex布局，即Father使用flex自适应宽度，那么就会出现上述的问题；所以，如果有多个图表同行并列布局，请不要使用flex布局，给Father组件的宽度设置为百分比吧，此时的forceFit就会起作用了。同时，BizCharts对重绘设置了防抖，只有当停止缩放的时候才会重绘。</p>
<p>假如 Tooltip 开启的是辅助线，即type不是“rect”，那么上述的样式定义将不起作用。究其原因，看了此组件的源码之后才发现，描述辅助线样式的属性不是style对象，而是lineStyle对象，官方文档并未说明这一点。</p>
<div class="codehilite"><pre>    &lt;Tooltip
            crosshairs={{
                    type: &quot;y&quot;
                    lineStyle: {
                            stroke: &#39;red&#39;, // 辅助线颜色
                            lineWidth: 4, // 辅助线宽度，单位为px
                            opacity: 1 // 辅助线透明度
                    }
            }}
    /&gt;
</pre></div>


<p>图表渐变色</p>
<div class="codehilite"><pre>    &lt;Geom
            type=&quot;interval&quot;
            position=&quot;xAxis*yAxis&quot;
            tooltip={[&quot;xAxis*yAxis&quot;, getTooltipData]}
            color={[&#39;xAxis&#39;, &#39;#3DA4FF-#FFFFFF&#39;]}
    /&gt;

    &lt;Geom
            type=&quot;interval&quot;
            position=&quot;xAxis*yAxis&quot;
            tooltip={[&quot;xAxis*yAxis&quot;, getTooltipData]}
            color={[&#39;xAxis&#39;, &#39;l(90) 0:#3DA4FF 1:#FFFFFF&#39;]}
    /&gt;
</pre></div>


<p>note：l是指线性渐变，90是指旋转九十度，即从上到下渐变，默认 to-right。看官们可以多试试几个姿势，啊呸，多试试几个角度。</p>
<p>0和1标定的色值标明初始色值和终止色值，注意一点，色值不可以使用颜色名字，如“red”、“blue”等，可添加多个渐变色值，如</p>
<div class="codehilite"><pre>    color=&quot;l(90) 0:#000000 0.5:#FFFFFF 1:#000000&quot;
</pre></div>


<p>动态视图</p>
<p>不过话说回来，当数据更新时，从旧数据切换到新数据，会很突兀，没有缓冲过程，看着特别不舒服。我寻思着，在数据更新的时候，加个动画呗！但是初始动画生效了，更新动画就不生效了（如看官们知道解决办法，请不吝赐教）。由于赶着下班，我决定使用DataSet：一个用于管理表格数据的神器，据说更新数据的时候，其会给我弄个动画（除此以外有方便地导入非json数据等等功能，下文有一些例子，具体细节我没有详细去研究，以后学习了再分享）。唔好理，总之好犀利！</p>
<div class="codehilite"><pre>    // 安装
    // npm install @antv/data-set

    // 引入
    import DataSet from &#39;@antv/data-set&#39;;

    // 生成一个View实例，作为类的属性，故不要在render方法里面生成这个实例
    dv = new DataSet().createView();

    render() {
            this.dv.source(data);

            &lt;Chart
                    height={ 400 }
                    data={ this.dv }
                    forceFit
            &gt;&lt;/Chart&gt;
    }
</pre></div>


<h1 id="installation">installation<a class="headerlink" href="#installation" title="Permanent link"></a></h1>
<p>npm</p>
<div class="codehilite"><pre>$ npm install bizcharts
</pre></div>


<p>umd</p>
<div class="codehilite"><pre>&lt;script src=&quot;https://unpkg.com/bizcharts@${version}/umd/BizCharts.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/bizcharts@3.5.5/umd/BizCharts.min.js&quot;&gt;&lt;/script&gt;
</pre></div>


<p>dev build</p>
<div class="codehilite"><pre>$ git clone https://github.com/alibaba/BizCharts.git
$ cd BizCharts
$ npm install
$ npm run build
</pre></div>


<p>dev demo</p>
<div class="codehilite"><pre>$ sudo vi /etc/hosts
// add 127.0.0.1 localhost
$ npm run[-script] demo
// open in browser http://localhost:3510/
</pre></div>


<p>Usage</p>
<div class="codehilite"><pre>import {Chart, Axis, Tooltip, Geom} from &quot;bizcharts&quot;;

const data = [...];

&lt;Chart height={400} data={data} forceFit&gt;
  &lt;Axis name=&quot;month&quot; /&gt;
  &lt;Axis name=&quot;temperature&quot; label={{formatter: val =&gt; `${val}°C`}} /&gt;
  &lt;Tooltip crosshairs={{type : &#39;y&#39;}} /&gt;
  &lt;Geom type=&quot;line&quot; position=&quot;month*temperature&quot; size={2} color={&#39;city&#39;} /&gt;
  &lt;Geom type=&quot;point&quot; position=&quot;month*temperature&quot; size={4} color={&#39;city&#39;} /&gt;
&lt;/Chart&gt;
</pre></div>


<h1 id="load-by-models">Load by models<a class="headerlink" href="#load-by-models" title="Permanent link"></a></h1>
<p>按需加载
自 bizcharts@3.1.8 版本起，开始支持按需加载资源文件的功能。</p>
<p>g2 中资源主要是分为 core 和 对应个 geom 资源，g2 用户需要声明使用了哪个 geom。</p>
<p>在 bizcharts 中也类似，需要用户自己声明需要加载的资源模块,因此加入了各个类别的 geom 组件，具体有：</p>
<div class="codehilite"><pre>组件  说明
&lt;Line&gt;  相当于 &lt;Geom type=&#39;line&#39;&gt;
&lt;Interval&gt;  相当于 &lt;Geom type=&#39;interval&#39;&gt;
&lt;Area&gt;  相当于 &lt;Geom type=&#39;area&#39;&gt;
&lt;Point&gt; 相当于 &lt;Geom type=&#39;point&#39;&gt;
&lt;Path&gt;  相当于 &lt;Geom type=&#39;path&#39;&gt;
&lt;Edge&gt;  相当于 &lt;Geom type=&#39;edge&#39;&gt;
&lt;Heatmap&gt; 相当于 &lt;Geom type=&#39;heatmap&#39;&gt;
&lt;Polygon&gt; 相当于 &lt;Geom type=&#39;polygon&#39;&gt;
&lt;Schema&gt;  相当于 &lt;Geom type=&#39;schema&#39;&gt;
&lt;Venn&gt;  相当于 &lt;Geom type=&#39;venn&#39;&gt;
</pre></div>


<p>** 因此如果想要按需加载 bizcharts 资源，请使用命名后的 geom 组件，例如 <Line> <Interval> 等，请勿使用之前的 组件，否则会全量加载 geom 资源。 **</p>
<p>需要使用原先 bizcharts 上的工具函数，请加载 import Chart from &lsquo;bizcharts/lib/core&rsquo; 具体有：
    资源      说明
    G2        G2 的命名空间,详细请点击.
    Animate   动画 详细请点击.
    Shape     构成图表的图形，用户自定义图形，详细请点击
    setTheme  用于设置图表的主题,详细请点击.
    track     使用打点，详细请点击
    PathUtil  详细请点击
    Util      详细请点击</p>
<p>直接加载需要的组件和模块使用即可。</p>
<div class="codehilite"><pre>import * as bizUtil from &#39;bizcharts/lib/core&#39;
import Chart from &#39;bizcharts/lib/components/Chart&#39;;
import Axis from &#39;bizcharts/lib/components/Axis&#39;;
import Line from &#39;bizcharts/lib/components/TypedGeom/Line&#39;;

bizUtil.setTheme(&#39;dark&#39;);

ReactDOM.render(
    &lt;Chart
    width={600}
    height={500}
    data={[
        { year: &quot;1991&quot;, value: 3 },
        { year: &quot;1992&quot;, value: 4 },
        { year: &quot;1993&quot;, value: 3.5 },
        { year: &quot;1994&quot;, value: 5 },
        { year: &quot;1995&quot;, value: 4.9 },
        { year: &quot;1996&quot;, value: 6 },
        { year: &quot;1997&quot;, value: 7 },
        { year: &quot;1998&quot;, value: 9 },
        { year: &quot;1999&quot;, value: 13 }
    ]}
    &gt;
        &lt;Axis /&gt;
        &lt;Line position=&quot;year*value&quot;/&gt;
    &lt;/Chart&gt;
    ,
    mountNode
);
</pre></div>


<h1 id="gettingstart">GettingStart<a class="headerlink" href="#gettingstart" title="Permanent link"></a></h1>
<p>快速使用Usage</p>
<div class="codehilite"><pre>    import { Chart, Axis, Legend, Tooltip, Geom } from &#39;bizcharts&#39;;
    const data = [
        { month: &#39;Jan.&#39;, count: 69, city: &#39;tokyo&#39; },...
    ];
    const scale = {
        month: {alias: &#39;Month&#39;,},
        count: {alias: &#39;Sales&#39;,},
    };
    ReactDOM.render((
        &lt;Chart height={400} data={data} scale={scale} forceFit&gt;
            &lt;Axis title name=&quot;month&quot; /&gt;
            &lt;Axis title name=&quot;count&quot; /&gt;
            &lt;Legend /&gt;
            &lt;Tooltip crosshairs={{ type: &#39;rect&#39; }} /&gt;
            &lt;Geom type=&quot;interval&quot; position=&quot;month*count&quot; color=&quot;month&quot; /&gt;
        &lt;/Chart&gt;
    ), document.getElementById(&quot;mountNode&quot;));
</pre></div>


<p>页面 CDN 引入方式运行，import Component 改 React.Component:</p>
<div class="codehilite"><pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
        &lt;head&gt;
                &lt;meta charset=&quot;utf-8&quot;/&gt;
                &lt;title&gt; Hello React! &lt;/title&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/react/16.4.0/umd/react.development.js&quot;&gt; &lt;/script&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js&quot;&gt; &lt;/script&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js&quot;&gt; &lt;/script&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/redux/4.0.1/redux.min.js&quot;&gt;&lt;/script&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/react-redux/6.0.1/react-redux.min.js&quot;&gt;&lt;/script&gt;
                &lt;script src=&quot;https://cdn.staticfile.org/prop-types/15.7.2/prop-types.js&quot;&gt;&lt;/script&gt;
                &lt;script src=&quot;https://unpkg.com/bizcharts@3.3.0/umd/BizCharts.min.js&quot;&gt;&lt;/script&gt;
        &lt;/head&gt;
        &lt;body&gt;
                &lt;div id=&quot;example&quot;&gt;
                &lt;/div&gt;
        &lt;/body&gt;
&lt;/html&gt;
&lt;script&gt;
        // import {Component} from &#39;react&#39;;
        let Component = React.Component;
&lt;/script&gt;
</pre></div>


<h1 id="basic">Basic<a class="headerlink" href="#basic" title="Permanent link"></a></h1>
<p>基于 React 组件实现 <a href="./demo/basic.html">DEMO</a></p>
<div class="codehilite"><pre>    import React from &quot;react&quot;;
    import {G2, Chart, Geom, Axis, Tooltip, Coord, Label, Legend, View, Guide, Shape, Facet, Util } from &quot;bizcharts&quot;;

    class Basic extends React.Component {
        render() {
            const data = [
                {year: &quot;1991&quot;, value: 15468 },
                {year: &quot;1992&quot;, value: 16100 },
                {year: &quot;1993&quot;, value: 15900 },
                {year: &quot;1994&quot;, value: 17409 },
                {year: &quot;1995&quot;, value: 17000 },
                {year: &quot;1996&quot;, value: 31056 },
                {year: &quot;1997&quot;, value: 31982 },
                {year: &quot;1998&quot;, value: 32040 },
                {year: &quot;1999&quot;, value: 33233 }
            ];
            const cols = {
                value: {
                    min: 10000
                },
                year: {
                    range: [0, 1]
                }
            };
            return (
                &lt;div&gt;
                    &lt;Chart height={window.innerHeight} data={data} scale={cols} forceFit&gt;
                        &lt;Axis name=&quot;year&quot; /&gt;
                        &lt;Axis
                            name=&quot;value&quot;
                            label={{
                                formatter: val =&gt; {
                                    return (val / 10000).toFixed(1) + &quot;k&quot;;
                                }
                            }}
                        /&gt;
                        &lt;Tooltip
                            crosshairs={{
                                type: &quot;line&quot;
                            }}
                        /&gt;
                        &lt;Geom type=&quot;area&quot; position=&quot;year*value&quot; /&gt;
                        &lt;Geom type=&quot;line&quot; position=&quot;year*value&quot; size={2} /&gt;
                    &lt;/Chart&gt;
                &lt;/div&gt;
            );
        }
    }

    export default Basic;
</pre></div>


<h1 id="basic-for-cdn">Basic for CDN<a class="headerlink" href="#basic-for-cdn" title="Permanent link"></a></h1>
<div class="codehilite"><pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;/&gt;
        &lt;title&gt; Hello BizCharts for React! &lt;/title&gt;
        &lt;script src=&quot;https://cdn.staticfile.org/react/16.4.0/umd/react.development.js&quot;&gt; &lt;/script&gt;
        &lt;script src=&quot;https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js&quot;&gt; &lt;/script&gt;
        &lt;script src=&quot;https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js&quot;&gt; &lt;/script&gt;
        &lt;script src=&quot;https://unpkg.com/bizcharts@3.3.0/umd/BizCharts.min.js&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;example&quot;&gt; &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
&lt;script type=&quot;text/babel&quot;&gt;
    // import {Component} from &#39;react&#39;;
    // let Component = React.Component;

    // import { Chart, Axis, Legend, Tooltip, Geom } from &#39;bizcharts&#39;;
    // bizUtil.setTheme(&#39;dark&#39;);
    BizCharts.setTheme(&#39;dark&#39;);

    var 
    Axis = BizCharts.Axis,
    Chart = BizCharts.Chart,
    Coord = BizCharts.Coord,
    Facet = BizCharts.Facet,
    G2 = BizCharts.G2,
    Geom = BizCharts.Geom,
    Guide = BizCharts.Guide,
    Label = BizCharts.Label,
    Legend = BizCharts.Legend,
    Line = BizCharts.Line,
    Shape = BizCharts.Shape,
    Tooltip = BizCharts.Tooltip,
    Util = BizCharts.Util,
    View = BizCharts.View;
&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
    // class Basic extends React.Component ...
    // and no export default Basic;
&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
    ReactDOM.render(
        &lt;Basic /&gt; , document.getElementById(&#39;example&#39;)
    );
&lt;/script&gt;
</pre></div>


<h1 id="demos">Demos<a class="headerlink" href="#demos" title="Permanent link"></a></h1>
<p><a href="./demo/stacked.html"><img alt="stacked" src="./imgs/stacked.gif" /></a>
<style>.demos img { height:220px; } .demos { display:flex; flex-direction: row; flex-wrap:wrap; } </style>
<div class="demos">
<a href="./demo/Waterwave.html"><img alt="Waterwave" src="./imgs/Waterwave.png" /></a>
<a href="./demo/Cutomizelegend.html"><img alt="Cutomizelegend" src="./imgs/Cutomizelegend.png" /></a>
<a href="./demo/Chord.html"><img alt="Chord" src="./imgs/Chord.png" /></a>
<a href="./demo/Arcpolar.html"><img alt="Arcpolar" src="./imgs/Arcpolar.png" /></a>
<a href="./demo/Arc.html"><img alt="Arc" src="./imgs/Arc.png" /></a>
<a href="./demo/Sunburst.html"><img alt="Sunburst" src="./imgs/Sunburst.png" /></a>
<a href="./demo/Tree.html"><img alt="Tree" src="./imgs/Tree.png" /></a>
<a href="./demo/Polar.html"><img alt="Polar" src="./imgs/Polar.png" /></a>
<a href="./demo/RadarFlowerLine.html"><img alt="RadarFlowerLine" src="./imgs/RadarFlowerLine.png" /></a>
<a href="./demo/Map-beecomb.html"><img alt="Map-beecomb" src="./imgs/Map-beecomb.png" /></a>
<a href="./demo/intervalDodge.html"><img alt="intervalDodge" src="./imgs/intervalDodge.png" /></a>
<a href="./demo/Labelline.html"><img alt="Labelline" src="./imgs/Labelline.png" /></a>
<a href="./demo/Heatmap.html"><img alt="Heatmap" src="./imgs/Heatmap.png" /></a>
<a href="./demo/Stacked.html"><img alt="Stacked" src="./imgs/Stacked.png" /></a>
<a href="./demo/StackedPercentage.html"><img alt="StackedPercentage" src="./imgs/StackedPercentage.png" /></a>
<a href="./demo/StackedPercentage-Interval.html"><img alt="StackedPercentage-Interval" src="./imgs/StackedPercentage-Interval.png" /></a>
<a href="./demo/StackedPercentage-Lines.html"><img alt="StackedPercentage-Lines" src="./imgs/StackedPercentage-Lines.png" /></a>
<a href="./demo/StackedPercentage-Area.html"><img alt="StackedPercentage-Area" src="./imgs/StackedPercentage-Area.png" /></a>
<a href="./demo/StackedPercentage-Points.html"><img alt="StackedPercentage-Points" src="./imgs/StackedPercentage-Points.png" /></a>
<a href="./demo/Edges.html"><img alt="Edges" src="./imgs/Edges.png" /></a>
<a href="./demo/Points.html"><img alt="Points" src="./imgs/Points.png" /></a>
<a href="./demo/Polygon.html"><img alt="Polygon" src="./imgs/Polygon.png" /></a>
<a href="./demo/Histogramstacked.html"><img alt="层叠直方图" src="./imgs/Histogramstacked.png" /></a>
<a href="./demo/Clusteredstacked.html"><img alt="Clusteredstacked" src="./imgs/Clusteredstacked.png" /></a>
<a href="./demo/Innerlabel.html"><img alt="Innerlabel" src="./imgs/Innerlabel.png" /></a>
<a href="./demo/Donut.html"><img alt="Donut" src="./imgs/Donut.png" /></a>
<a href="./demo/PieDemo.html"><img alt="PieDemo" src="./imgs/PieDemo.png" /></a>
<a href="./demo/Piemultidonuts.html"><img alt="Piemultidonuts" src="./imgs/Piemultidonuts.png" /></a>
<a href="./demo/Arearangeline.html"><img alt="Arearangeline" src="./imgs/Arearangeline.png" /></a>
<a href="./demo/Columnanimated.html"><img alt="Columnanimated" src="./imgs/Columnanimated.png" /></a>
<a href="./demo/Bardiverge.html"><img alt="Bardiverge" src="./imgs/Bardiverge.png" /></a>
<a href="./demo/Bubbleimage.html"><img alt="Bubbleimage" src="./imgs/Bubbleimage.png" /></a>
<a href="./demo/bubbletext.html"><img alt="Bubbletext" src="./imgs/bubbletext.png" /></a>
<a href="./demo/geom_shape.html"><img alt="geom_shape" src="./imgs/geom_shape.png" /></a>
<a href="./demo/stock.html"><img alt="stock" src="./imgs/stock.png" /></a>
<a href="./demo/stack.html"><img alt="stack" src="./imgs/stack.png" /></a>
<a href="./demo/basic.html"><img alt="basic" src="./imgs/basic.png" /></a>
<a href="./demo/GaugeTick.html"><img alt="GaugeTick" src="./imgs/GaugeTick.png" /></a>
</div>
<div class="demos">
<a href="./demo/ring.html"><img alt="Ring" src="./imgs/ring.png" /></a>
<a href="./demo/map.html"><img alt="Map" src="./imgs/map.png" /></a>
<a href="./demo/dashboard.html"><img alt="Dashboard" src="./imgs/Dashboard.png" /></a>
</div></p>
<h1 id="bizcharts">BizCharts 图表构成组件<a class="headerlink" href="#bizcharts" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/bizcharts">BizCharts</a></p>
<p>如果是 umd 文件引入， <code>BizCharts = Window.BizCharts</code>; 如果是 package 引入， BizCharts 为: <code>import * as BizCharts from "bizcharts";</code></p>
<p>全局命名空间 BizCharts 包含组件：</p>
<h2 id="chart"><a href="#Chart">Chart</a><a class="headerlink" href="#chart" title="Permanent link"></a></h2>
<p>图表最顶级的组件，控制着图表的创建、绘制、销毁等。 详细文档见 Chart api</p>
<h2 id="coord"><a href="#Coord">Coord</a><a class="headerlink" href="#coord" title="Permanent link"></a></h2>
<p>坐标系组件，设置 Chart 或者 View 的坐标系类型。 详细文档见 Coord api</p>
<h2 id="axis"><a href="#Axis">Axis</a><a class="headerlink" href="#axis" title="Permanent link"></a></h2>
<p>坐标轴组件，控制图表中坐标轴的样式等。 详细文档见 Axis api</p>
<h2 id="geom"><a href="#Geom">Geom</a><a class="headerlink" href="#geom" title="Permanent link"></a></h2>
<p>几何标记对象，决定创建图表的类型。 详细文档见 Geom api。</p>
<h2 id="label"><a href="#Label">Label</a><a class="headerlink" href="#label" title="Permanent link"></a></h2>
<p>几何标记对象上的文本。 详细文档见 Label api</p>
<h2 id="legend"><a href="#Legend">Legend</a><a class="headerlink" href="#legend" title="Permanent link"></a></h2>
<p>图例。 详细文档见 Legend api</p>
<h2 id="guide"><a href="#Guide">Guide</a><a class="headerlink" href="#guide" title="Permanent link"></a></h2>
<p>坐标轴组件，控制图表中坐标轴的样式等。 详细文档见 Guide api</p>
<h2 id="facet"><a href="#Facet">Facet</a><a class="headerlink" href="#facet" title="Permanent link"></a></h2>
<p>控制 Chart 分面。 详细文档见 Facet api</p>
<h2 id="view"><a href="#View">View</a><a class="headerlink" href="#view" title="Permanent link"></a></h2>
<p>视图组件。 详细文档见 View api</p>
<h2 id="g2"><a href="#G2">G2</a><a class="headerlink" href="#g2" title="Permanent link"></a></h2>
<p>G2 的命名空间，在有需要的情况下用户可以直接拿到该对象去工作。</p>
<h2 id="animate"><a href="#Animate">Animate</a><a class="headerlink" href="#animate" title="Permanent link"></a></h2>
<p>用来注册用户自定义动画。 详细文档见 动画教程。</p>
<h2 id="shape"><a href="#Shape">Shape</a><a class="headerlink" href="#shape" title="Permanent link"></a></h2>
<p>构成图表具体的形状类。 详细文档见 Shape api。</p>
<p>在 BizCharts 中，图表是由各个组件组合而成的。组件有两种类型，实体组件和抽象组件。</p>
<p>实体组件：在图表上有对应的图形、文本显示。
抽象组件：没有显示，是一种概念抽象组件。
常用图表组件：</p>
<table>
<thead>
<tr>
<th align="left">组件名称</th>
<th align="left">组件类型</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="#Chart"><code>&lt;Chart/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">图表父组件，所有的其他组件都必须由 <Chart> 包裹。</td>
</tr>
<tr>
<td align="left"><a href="#Coord"><code>&lt;Coord/&gt;</code></a></td>
<td align="left">抽象组件</td>
<td align="left">坐标系组件。<Chart><Coord /></Chart>, 用来描述 <Chart/> <View /> 组件的坐标系，比如笛卡尔坐标系、极坐标系等。</td>
</tr>
<tr>
<td align="left"><a href="#Axis"><code>&lt;Axis/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">坐标轴组件, <Chart><Axis /></Chart>。</td>
</tr>
<tr>
<td align="left"><a href="#Geom"><code>&lt;Geom/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">几何标记组件, <Chart><Geom /></Chart>。即我们所说的点、线、面这些几何图形。</td>
</tr>
<tr>
<td align="left"><a href="#Label"><code>&lt;Label/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">几何标记的辅助文本组件, <Chart><Geom><Label /></Geom></Chart>。该组件必须作为<Geom/> 的子组件。</td>
</tr>
<tr>
<td align="left"><a href="#Tooltip"><code>&lt;Tooltip/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">提示框组件, <Chart><Tooltip /></Chart>。</td>
</tr>
</tbody>
</table>
<p>非常用图表组件：</p>
<table>
<thead>
<tr>
<th align="left">组件名称</th>
<th align="left">组件类型</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="#Guide"><code>&lt;Guide/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记组件, <code>&lt;Chart&gt;&lt;Guide /&gt;&lt;/Chart&gt;</code>。</td>
</tr>
<tr>
<td align="left"><a href="#Line"><code>&lt;Line/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记线组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Line /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下，且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效。</td>
</tr>
<tr>
<td align="left"><a href="#Image"><code>&lt;Image/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记图片组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Image /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下。且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效</td>
</tr>
<tr>
<td align="left"><a href="#Text"><code>&lt;Text/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记文本组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Text /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下。且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效</td>
</tr>
<tr>
<td align="left"><a href="#Region"><code>&lt;Region/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记举行组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Region /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下。且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效</td>
</tr>
<tr>
<td align="left"><a href="#Arc"><code>&lt;Arc/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记弧形组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Arc /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下。且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效</td>
</tr>
<tr>
<td align="left"><a href="#Html"><code>&lt;Html/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助标记 html 组件, <code>&lt;Chart&gt;&lt;Guide&gt;&lt;Html /&gt;&lt;/Guide&gt;&lt;/Chart&gt;。该</code>组件处于 Guide 组件命名空间下。且必须作为 <code>&lt;Guide /&gt;</code> 的子组件才会生效</td>
</tr>
<tr>
<td align="left"><a href="#RegionFilter"><code>&lt;RegionFilter/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助框组件，<code>&lt;Chart&gt;&lt;Guide&gt;&lt;RegionFilter /&gt;&lt;/Guide&gt;&lt;/Chart&gt;，框</code>选一段图区，设置背景、边框等。</td>
</tr>
<tr>
<td align="left"><a href="#DataMarker"><code>&lt;DataMarker/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助 html，<code>&lt;Chart&gt;&lt;Guide&gt;&lt;DataMarker /&gt;&lt;/Guide&gt;&lt;/Chart&gt;，指</code>定位置添加自定义 html，显示自定义信息。</td>
</tr>
<tr>
<td align="left"><a href="#DataRegion"><code>&lt;DataRegion/&gt;</code></a></td>
<td align="left">实体组件</td>
<td align="left">辅助弧线，<code>&lt;Chart&gt;&lt;Guide&gt;&lt;DataRegion /&gt;&lt;/Guide&gt;&lt;/Chart&gt;</code>。</td>
</tr>
<tr>
<td align="left"><a href="#Facet"><code>&lt;Facet/&gt;</code></a></td>
<td align="left">抽象组件</td>
<td align="left">分面组件，<code>&lt;Chart&gt;&lt;Facet /&gt;&lt;/Chart&gt;</code>。</td>
</tr>
<tr>
<td align="left"><a href="#View"><code>&lt;View/&gt;</code></a></td>
<td align="left">抽象组件</td>
<td align="left">视图组件，<code>&lt;Chart&gt;&lt;View /&gt;&lt;View /&gt;&lt;/Chart&gt;</code>。</td>
</tr>
</tbody>
</table>
<p>图表插件有:</p>
<div class="codehilite"><pre>名称  类型  说明
&lt;Slider /&gt;  图标插件    使用前必须确定已经安装了 Bizcarts。
</pre></div>


<p><img alt="bizCharts 图表元素构成" src="./imgs/bizcharts.png" /></p>
<h2 id="settheme">setTheme<a class="headerlink" href="#settheme" title="Permanent link"></a></h2>
<p>设置 BizCharts 中使用的主题类型。 详细文档见 theme tutorial。</p>
<p>引用: G2 Theme</p>
<p>图表主题
Bizcharts 提供了两种内建的主题: default and dark. </p>
<p>如何改变主题
你可以通过 BizCharts.setTheme(themeName) API 来改变主题.</p>
<p>Exmaple:</p>
<div class="codehilite"><pre>  BizCharts.setTheme(&#39;dark&#39;);
</pre></div>


<p>自定义主题
当调用 BizCharts.setTheme() API 传入的参数是一个对象时，这个时候代表使用你自定义的主题配置。</p>
<p>Example:</p>
<div class="codehilite"><pre>  const seaTheme = {
    animate:false,
    colors:{},
    shapes:{},
  };
  BizCharts.setTheme(seaTheme);
</pre></div>


<p>track
该方法用于 G2 情况的打点监控，默认处于开启状态，如果您不想让我们知道您的版本使用情况，请配置为 false。</p>
<div class="codehilite"><pre>BizCharts.track(false);
</pre></div>


<h2 id="interaction">Interaction 图表交互<a class="headerlink" href="#interaction" title="Permanent link"></a></h2>
<p>默认交互
包括：</p>
<p>active 激活，鼠标hover。
select 选中，鼠标点击选择、框选。</p>
<p>激活
开启以及关闭 shape 对于鼠标 hover 时的响应效果，默认为各个 <Geom> 内置了 active 效果 。可以通过 active 属性关闭及开启。 例如：</p>
<div class="codehilite"><pre>&lt;Geom active={false} /&gt;
&lt;Geom active={true} /&gt;
</pre></div>


<p>选中
各个几何标记 geom 选中的模式包含如下三种：</p>
<p>不可选中；
单选；
多选；
选中是否可取消选中。
选中模式的设置方式如下：</p>
<div class="codehilite"><pre>&lt;Geom select={false} /&gt;; // 关闭
&lt;Geom select={true} /&gt;; // 打开
&lt;Geom select={[true, {
 mode: &#39;single&#39; || &#39;multiple&#39;, // 选中模式，单选、多选
 style: { }, // 选中后 shape 的样式
 cancelable: true | false, // 选中之后是否允许取消选中，默认允许取消选中
 animate: true | false // 选中是否执行动画，默认执行动画
}]} /&gt;;
</pre></div>


<p>默认情况下，G2 中只有饼图支持选中交互，其他 geom 的选中模式默认情况下都是关闭的。</p>
<p>图表交互控制可以跟图表事件结合用来定制图表的自定义交互</p>
<h2 id="pathutil">PathUtil<a class="headerlink" href="#pathutil" title="Permanent link"></a></h2>
<p>来自 G2，用于操作图形路径的工具类。具体提供的方法如下：</p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">参数说明</th>
<th align="left">返回结果</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">getBoundingClientRect(node)</td>
<td align="left">node:HTMLElement，dom 节点</td>
<td _="," align="left" bottom:="bottom:" left:="left:" right="right" top:="top:">返回该节点在页面中的位置，返回结果格式为： </td>
</tr>
<tr>
<td align="left">getStyle(dom, name)</td>
<td align="left">dom:HTMLElement，DOM 节点；name:String，样式名</td>
<td align="left">返回该节点对应样式名 name 的具体样式。</td>
</tr>
<tr>
<td align="left">modifyCSS(dom, css)</td>
<td align="left">dom:HTMLElement，DOM 节点；css:Object，样式属性</td>
<td align="left">修改对应节点的 css 样式，返回修改样式后的 dom 对象。</td>
</tr>
<tr>
<td align="left">createDom(str)</td>
<td align="left">str:String，Dom 字符串</td>
<td align="left">按照传入的 str 创建 dom 节点，并返回创建的节点。</td>
</tr>
<tr>
<td align="left">getRatio()</td>
<td align="left">&ndash;</td>
<td align="left">返回屏幕的像素分辨率。</td>
</tr>
<tr>
<td align="left">getWidth(el)</td>
<td align="left">el:HTMLElement，dom 节点</td>
<td align="left">返回 dom 节点的宽度，不包含 padding、border</td>
</tr>
<tr>
<td align="left">getHeight(el)</td>
<td align="left">el:HTMLElement，dom 节点</td>
<td align="left">返回 dom 节点的高度，不包含 padding、border</td>
</tr>
<tr>
<td align="left">getOuterWidth(el)</td>
<td align="left">el:HTMLElement，dom 节点</td>
<td align="left">返回 dom 节点的宽度，包含 padding、border</td>
</tr>
<tr>
<td align="left">getOuterHeight(el)</td>
<td align="left">el:HTMLElement，dom 节点</td>
<td align="left">返回 dom 节点的高度，包含 padding、border</td>
</tr>
<tr>
<td align="left">addEventListener(target, eventType, callback)</td>
<td align="left">target:HTMLElement，DOM对象；eventType:String，事件名；callback:Function，回调函数</td>
<td align="left">添加事件监听器</td>
</tr>
<tr>
<td align="left">requestAnimationFrame(fn)</td>
<td align="left">fn:Function，回调函数</td>
<td align="left">用于定时循环操作。</td>
</tr>
</tbody>
</table>
<p>Util
默认提供的常见的工具类，大部分基于 lodash 封装。 如下：</p>
<div class="codehilite"><pre>const Util = {
  each: require(&#39;lodash/each&#39;),
  map: require(&#39;lodash/map&#39;),
  isObject: require(&#39;lodash/isObject&#39;),
  isNumber: require(&#39;lodash/isNumber&#39;),
  isString: require(&#39;lodash/isString&#39;),
  isFunction: require(&#39;lodash/isFunction&#39;),
  ...
};
</pre></div>


<h2 id="_1">源数据的处理<a class="headerlink" href="#_1" title="Permanent link"></a></h2>
<p>文档转自G2</p>
<p>BizCharts 支持两种格式的源数据</p>
<ul>
<li>JSON数组</li>
<li>DataView 对象</li>
</ul>
<p>JSON 数组
Example:</p>
<div class="codehilite"><pre>var data = [
  {&quot;gender&quot;:&quot;男&quot;,&quot;count&quot;:40},
  {&quot;gender&quot;:&quot;女&quot;,&quot;count&quot;:30}
];
</pre></div>


<p>DataView 对象
单独使用 DataView</p>
<p>如果仅仅是对数据进行加工，不需要图表联动
通过状态量实现图表联动 在G2 3.0 中使用 DataSet 的状态量(State) 可以很容易的实现图表的联动，步骤如下：</p>
<ol start="0">
<li>创建 DataSet 对象，指定状态量</li>
<li>创建 DataView 对象，在 transform 中使用状态量</li>
<li>创建图表，引用前面创建 DataView</li>
<li>改变状态量，所有 DataView 更新</li>
</ol>
<p>详见 DataSet Package。</p>
<h2 id="dataset-package">DataSet Package<a class="headerlink" href="#dataset-package" title="Permanent link"></a></h2>
<p>自BizChars 3.0版本开始，原先内置的数据处理模块frame从BizChars包中抽离出来，独立成为DataSet包。DataSet的目标是为数据可视化场景提供状态驱动（state driven）的、丰富而强大的数据处理能力。 BizCharts 对数据的支持跟G2一致，通用支持独立的 DataSet 包。</p>
<p>术语表</p>
<table>
<thead>
<tr>
<th align="left">术语</th>
<th align="left">英文</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">数据集</td>
<td align="left">DataSet</td>
<td align="left">一组数据集合</td>
</tr>
<tr>
<td align="left">数据视图</td>
<td align="left">DataView</td>
<td align="left">单个数据视图，目前有普通二维数据（类似一张数据库表）、树形数据、图数据和地理信息数据几种类型</td>
</tr>
<tr>
<td align="left">状态量</td>
<td align="left">state</td>
<td align="left">数据集内部流转的控制数据状态的变量</td>
</tr>
<tr>
<td align="left">变换</td>
<td align="left">Transform</td>
<td align="left">数据变换函数，数据视图做数据处理时使用，包括图布局、数据补全、数据过滤等等</td>
</tr>
<tr>
<td align="left">连接器</td>
<td align="left">Connector</td>
<td align="left">数据接入函数，用于把某种数据源（譬如csv）载入到某个数据视图上</td>
</tr>
</tbody>
</table>
<p>简介
在 BizChars 的 1.x 和 2.x 版本里，统计函数和数据处理是和图形语法混合在一起的。这一方面导致了不必要的隐喻，造成额外的理解成本，另一方面把数据处理模块（ Frame 和 Stat ）内置也限制了 BizChars 数据处理能力的进一步发展。</p>
<p>为追求更极致的体验，我们把数据处理部分从 BizChars 中完全抽离出来，对数据处理本身进行了进一步的抽象，扩展和优化，从而实现了一个独立的数据处理模块 DataSet。</p>
<p>首先我们把数据处理分为两个大的步骤：数据连接（Connector）和数据转换（Transform）。Connector 负责导入和归一化数据（譬如导入 CSV 数据，导入 GeoJSON 数据等），Transform 负责进行各种数据转换操作（譬如图布局、数据统计、数据补全等）。通过这样的分层，支持了前端社区非常全面的数据处理相关的算法和模块；其次，我们在单个数据视图（DataView）的基础上增加了数据集（DataSet）的概念，通过统一的 DataSet 管理，实现了各个数据视图之间的状态同步和交互。整个数据处理模块的架构如下图。</p>
<p>data-set structure</p>
<p>安装
浏览器引入
可以通过<code>&lt;script&gt;</code>标签引入在线资源或者本地脚本。</p>
<div class="codehilite"><pre>&lt;!-- 引入在线资源 --&gt;
&lt;script src=&quot;https://gw.alipayobjects.com/os/antv/assets/data-set/0.8.0/data-set.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- 引入本地脚本 --&gt;
&lt;script src=&quot;./data-set.js&quot;&gt;&lt;/script&gt;
</pre></div>


<p>这样，就可以在后续脚本中得到全局变量 DataSet。</p>
<div class="codehilite"><pre>&lt;script src=&quot;https://gw.alipayobjects.com/os/antv/assets/data-set/0.8.0/data-set.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
var dv = new DataSet.View();
&lt;/script&gt;
</pre></div>


<p>通过 npm 安装</p>
<p>我们提供了 DataSet 的 npm 包，可以通过下面的命令进行安装。</p>
<div class="codehilite"><pre>npm install @antv/data-set --save
</pre></div>


<p>安装后即可使用 import 或者 require 进行引用。</p>
<div class="codehilite"><pre>import { View } from &#39;@antv/data-set&#39;;
const dv = new View();
</pre></div>


<p>api文档</p>
<p>DataSet 主要完成了以下功能： </p>
<ul>
<li>源数据的解析，将csv, dsv,geojson 转成标准的JSON </li>
<li>加工数据，包括 filter,map,fold(补数据) 等操作 </li>
<li>统计函数，汇总统计、百分比、封箱 等统计函数 </li>
<li>特殊数据处理，包括 地理数据、矩形树图、桑基图、文字云 的数据处理 具体参见dataset api 文档</li>
</ul>
<p>使用示例
单独使用 DataView
如果仅仅是对数据进行加工，不需要图表联动</p>
<p>状态量
在G2 3.0 中使用 DataSet 的状态量(State) 可以很容易的实现图表的联动，步骤如下： 1.创建 DataSet 对象，指定状态量 2.创建 DataView 对象，在 transform 中使用状态量 3.创建图表，引用前面创建 DataView 4.改变状态量，所有 DataView 更新</p>
<div class="codehilite"><pre>// step1 创建 dataset 指定状态量
const ds = new DataSet({
    state: {
        year: &#39;2010&#39;
    }
});

// step2 创建 DataView
const dv = ds.createView().source(data);

dv.transform({
    type: &#39;filter&#39;,
    callback(row) {
        return row.year === ds.state.year;
    }
});


// step3 引用 DataView
&lt;Chart data={dv}&gt; &lt;/Chart&gt;

// step4 更新状态量
ds.setState(&#39;year&#39;, &#39;2012&#39;);
</pre></div>


<p>注意：
在 DataSet 创建了状态量后，默认会影响其管理的所有的 DataView， 可以通过 watchingStates 明确的指定受那些状态量影响，设置为空数组时不受状态量的影响。
所有引用了 DataSet 管理的 DataView 的图表都会受自动刷新，不需要手工刷新。
图表联动示例
假设我们有一个 CSV 文件 population-by-age.csv，里面的数据是美国各个州不同年龄段的人口数量，文件内容如下：</p>
<table>
<thead>
<tr>
<th align="left">State</th>
<th align="left">小于5岁</th>
<th align="left">5至13岁</th>
<th align="left">14至17岁</th>
<th align="left">18至24岁</th>
<th align="left">25至44岁</th>
<th align="left">45至64岁</th>
<th align="left">65岁及以上</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">WY</td>
<td align="left">38253</td>
<td align="left">60890</td>
<td align="left">29314</td>
<td align="left">53980</td>
<td align="left">137338</td>
<td align="left">147279</td>
<td align="left">65614</td>
</tr>
<tr>
<td align="left">DC</td>
<td align="left">36352</td>
<td align="left">50439</td>
<td align="left">25225</td>
<td align="left">75569</td>
<td align="left">193557</td>
<td align="left">140043</td>
<td align="left">70648</td>
</tr>
<tr>
<td align="left">VT</td>
<td align="left">32635</td>
<td align="left">62538</td>
<td align="left">33757</td>
<td align="left">61679</td>
<td align="left">155419</td>
<td align="left">188593</td>
<td align="left">86649</td>
</tr>
<tr>
<td align="left">ND</td>
<td align="left">41896</td>
<td align="left">67358</td>
<td align="left">33794</td>
<td align="left">82629</td>
<td align="left">154913</td>
<td align="left">166615</td>
<td align="left">94276</td>
</tr>
<tr>
<td align="left">AK</td>
<td align="left">52083</td>
<td align="left">85640</td>
<td align="left">42153</td>
<td align="left">74257</td>
<td align="left">198724</td>
<td align="left">183159</td>
<td align="left">50277</td>
</tr>
<tr>
<td align="left">SD</td>
<td align="left">58566</td>
<td align="left">94438</td>
<td align="left">45305</td>
<td align="left">82869</td>
<td align="left">196738</td>
<td align="left">210178</td>
<td align="left">116100</td>
</tr>
<tr>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
</tr>
</tbody>
</table>
<p>我们希望把 CSV 文件的内容载入，画一个以州为横轴，人口数量为纵轴的层叠柱状图，并且在查看某个柱子的时候，希望能看到对应某个州的对比各个年龄段人口数量的饼图。下面我们来看看应该怎么画？</p>
<p>Step1：创建数据集 DataSet 实例，管理 state 状态量</p>
<div class="codehilite"><pre>const ds = new DataSet({
    state: {
        currentState: &#39;WY&#39;
    }
});
</pre></div>


<p>Step2：为层叠柱状图创建数据视图 View 实例，装载数据</p>
<div class="codehilite"><pre>/*
 * 如果不需要用到状态管理之类的功能，也可以不基于 DataSet 实例创建数据视图
 * 直接用 const dv = new DataSet.View();
 * 本例需要用状态量在不同的数据视图实例之间通信，所以需要有一个 DataSet 实例管理状态量
 */
$.getJSON(&#39;/BizCharts/public/data/population-by-age.csv&#39;, data =&gt; {
    const dvForAll = ds
        .createView(&#39;populationByAge&#39;) // 在 DataSet 实例下创建名为 populationByAge 的数据视图
        .source(data, {
            type: &#39;csv&#39;, // 使用 CSV 类型的 Connector 装载 data
        });
});
</pre></div>


<p>Step3：合并人口数量列（新增&rdquo;年龄段&rdquo;和&rdquo;人口&rdquo;字段，把各个年龄段的人口数量列数据合并到这两列上）</p>
<div class="codehilite"><pre>dvForAll.transform({
    type: &#39;fold&#39;,
    fields: [ &#39;小于5岁&#39;,&#39;5至13岁&#39;,&#39;14至17岁&#39;,&#39;18至24岁&#39;,&#39;25至44岁&#39;,&#39;45至64岁&#39;,&#39;65岁及以上&#39; ],
    key: &#39;age&#39;,
    value: &#39;population&#39;
});
</pre></div>


<p>Step4：为饼图创建数据视图实例，继承上一个数据视图的数据，通过状态量 currentState 过滤数据、统计不同年龄段人口占比</p>
<div class="codehilite"><pre>&lt;Chart
    data={dvForAll} 
    height={400} 
    forceFit={true} 
    onTooltipChange={(evt)=&gt;{
        const items = evt.items || [];
        if (items[0]) {
            ds.setState(&#39;currentState&#39;, items[0].title);
        }
      }
    }
&gt;
    &lt;Legend position=&#39;top&#39; /&gt;
    &lt;Axis name=&quot;population&quot; label={{
        formatter: val =&gt; {
        return val / 1000000 + &#39;M&#39;;
        }
    }}&gt;
    &lt;Geom 
        type=&quot;intervalStack&quot;
        position=&quot;state*population&quot;
        color=&quot;age&quot;
        select={[true, {
            mode: &#39;single&#39;,
            style: {
            stroke: &#39;red&#39;,
            strokeWidth: 5
            }
        }]}
    /&gt;
&lt;/Chart&gt;
&lt;Chart
    data={dvForOneState} 
    height={300} 
    forceFit={true}
    padding={0}
&gt;
    &lt;Coord type=&#39;theta&#39; radius={0.8}/&gt;
    &lt;Geom 
        type=&quot;intervalStack&quot;
        position=&quot;percent&quot;
        color=&quot;age&quot;
    &gt;
      &lt;Label content={[&#39;age*percent&#39;,(age, percent) =&gt; {
        percent = (percent * 100).toFixed(2) + &#39;%&#39;;
        return age + &#39; &#39; + percent;
      }]} /&gt;
    &lt;/Geom&gt;
&lt;/Chart&gt;
</pre></div>


<p>注意： 数据源路径为/BizCharts/public/data/population-by-age.json</p>
<h2 id="_2">如何自定义动画<a class="headerlink" href="#_2" title="Permanent link"></a></h2>
<p>BizCharts 保留和兼容了 G2 中所有的动画功能。</p>
<p>动画场景分类总共分为四种类型：</p>
<p>appear: 初始化时的入场动画；
enter: 更新时的出现动画；
update: 更新时的变化动画；
leave: 更新时的动画；</p>
<p>动画配置参数
[animation:String] 动画名称,不同类型的动画场景所支持的动画不同，详情内置动画
[easing:String | Function] 动画缓动效果
[delay:Number | Function] 动画延迟执行事件
[duration:Number | Function] 动画持续事件</p>
<p>使用如下：</p>
<div class="codehilite"><pre>{
animation: &#39;fadeIn&#39;, // 动画名称
easing: &#39;easeInQuart&#39;, // 动画缓动效果
delay: 100, // 动画延迟执行时间
duration: 600 // 动画执行时间
}
</pre></div>


<p>如何使用动画
可以通过 上的 animate 属性, 详见 Geom animate属性</p>
<p>支持的动画名称</p>
<ul>
<li>enter clipIn, zoomIn, pathIn, scaleInY, scaleInX, fanIn, fadeIn </li>
<li>leave lineWidthOut, zoomOut, pathOut, fadeOut</li>
<li>appear clipIn, zoomIn, pathIn, scaleInY, scaleInX, fanIn, fadeIn</li>
<li>update fadeIn, fanIn</li>
</ul>
<p>自定义动画</p>
<div class="codehilite"><pre>const Animate = BizCharts.Animate;
/**
* @param  {String} animationType      动画场景类型 appear enter leave update
* @param  {String} 动画名称，用户自定义即可
* @param  {Function} 动画执行函数
**/
Animate.registerAnimation(animationType, animationName, animationFun);
</pre></div>


<p>图形 Shape 的动画接口说明：shape.animate(props, duration, delay, easing, callback)</p>
<div class="codehilite"><pre>/**
 * 执行动画
 * @param  {Object}   toProps  动画最终状态
 * @param  {Number}   duration 动画执行时间
 * @param  {Number}   delay    动画延迟时间
 * @param  {String}   easing   动画缓动效果
 * @param  {Function} callback 动画执行后的回调
 */
shape.animate(toProps, duration, delay = 0, easing, callback)
</pre></div>


<p>示例</p>
<div class="codehilite"><pre>  const Animate = BizCharts.Animate;
  Animate.registerAnimation(&#39;appear&#39;, &#39;delayScaleInY&#39;, function(shape, animateCfg)     {
    const box = shape.getBBox(); // 获取柱子包围盒
    const origin = shape.get(&#39;origin&#39;); // 获取柱子原始数据
    const points = origin.points; // 获取柱子顶点
    // 计算柱子的变换中点
    const centerX = (box.minX + box.maxX) / 2;
    let centerY;
    if (points[0].y - points[1].y &lt;= 0) { // 当顶点在零点之下
      centerY = box.maxY;
    } else {
      centerY = box.minY;
    }
    // 设置初始态
    shape.attr(&#39;transform&#39;, [
      [&#39;t&#39;, -centerX, -centerY],
      [&#39;s&#39;, 1, 0.1],
      [&#39;t&#39;, centerX, centerY]
    ]);
    const index = shape.get(&#39;index&#39;);
    let delay = animateCfg.delay;
    if (BizCharts.Util.isFunction(delay)) {
      delay = animateCfg.delay(index);
    }
    let easing = animateCfg.easing;
    if (BizCharts.Util.isFunction(easing)) {
      easing = animateCfg.easing(index);
    }
    // 设置动画目标态
    shape.animate({
      transform: [
        [&#39;t&#39;, -centerX, -centerY],
        [&#39;s&#39;, 1, 10],
        [&#39;t&#39;, centerX, centerY]
      ]
    }, animateCfg.duration, easing, animateCfg.callback, delay);
  });

  const data = [];
  for (let i = 0; i &lt; 50; i++) {
    data.push({
      x: i,
      y: (Math.sin(i / 5) * (i / 5 - 10) + i / 6) * 5
    });
  }

ReactDom.render((
  &lt;Chart &gt;
    &lt;Geom type=&#39;interval&#39; animate={{
    appear: {
    animation: &#39;delayScaleInY&#39;,
    easing: &#39;easeElasticOut&#39;,
    delay: index =&gt; {
      return index * 10;
    }
    }
  }}/&gt;
  &lt;/Chart&gt;
), container);
</pre></div>


<h2 id="_3">图表类型<a class="headerlink" href="#_3" title="Permanent link"></a></h2>
<p>数据可视化的核心在于可视化编码，而可视化编码由几何标记和视觉通道组成。在可视化设计中我们将常见的 几何标记 定义成图表类型。</p>
<p>根据 几何标记 可以代表的数据维度来划分，几何标记 分为：</p>
<ul>
<li>零维，点是常见的零维几何标记，点仅有位置信息</li>
<li>一维，常见的一维几何标记有线</li>
<li>二维，二维平面</li>
<li>三维，常见的立方体、圆柱体都是三维的几何标记</li>
</ul>
<p>几何标记自由度
Coord坐标系代表了图形所在的空间维度，而图形空间的自由度是在不改变图形性质的基础下可以自由扩展的维度，自由度 = 空间维度 - 几何标记的维度，那么：</p>
<ul>
<li>点在二维空间内的自由度是2，就是说可以沿x轴、y轴方向进行扩展</li>
<li>线在二维空间内的自由度是1，也就说线仅能增加宽度，而无法增加长度</li>
<li>面在二维空间内的自由度是0，我们以一个多边形为示例，在不改变代表多边形的数据前提下，我们无法增加多边形的宽度或则高度</li>
<li>面在三维空间的自由度是1，我们可以更改面的厚度</li>
</ul>
<p>几何标记的自由度与数据能够映射到图形的视觉通道size（大小）相关，这个角度上来讲：</p>
<ul>
<li>点可以映射两个数据字段字段到点的大小上（当然现实中我们仅仅映射一个）</li>
<li>线可以映射一个数据字段字段到线的宽度</li>
<li>柱状图的矩形可以映射一个数据字段到宽度上</li>
<li>封闭的多边形无法使用数据映射到大小</li>
</ul>
<p>图表类型和几何标记
我们根据图形本身的维度和其自由度将几何标记在可视化框架中的实现进行了分类：</p>
<ul>
<li>point（点图）,虽然点的自由度是2，但是我们一般只映射一个字段到点的size上，x轴和y轴方向同时扩展大小；</li>
<li>path(路径图)、line(线图)，x轴方向上无序的的线是path,x轴方向有序的线是线图，线图又分为折线图和曲线图；</li>
<li>area(区域图)，填充折线和x轴闭合的区域，构建成为区域图，区域图是二维的，其自由度是0，无法进行size的扩展；</li>
<li>interval(区间图）、常见的柱状图、玫瑰图、饼图都是区间图，其图形是以y轴方向的长度表示数据的大小，x轴方形可以自由扩展，其自由度是1；</li>
<li>polygon(多边形），多个点构建的封闭的多边形，自由度是0，无法进行size的扩展；</li>
<li>heatmap（热力图）,热力图使用颜色来代表数据分布，绘制的过程根据数据点在画布上的影响范围进行颜色的设置，其自由度是2，但是我们往往只指定一个常量字段，指定点的影响范围；</li>
<li>schema （自定义），无法被上面覆盖的几何标记都放到这个分类下，常见的k线图，箱型图，其自由度与其表达的数据相关。</li>
</ul>
<p>图表类型和图形形状
我们说图表类型是几何标记在可视化框架中的一种实现方式，这是一种非常粗粒度的划分，对于每一种图表类型来说，图形在绘制的时候有不同的形状，视觉通道跟图形属性的映射方式不一样也会生成不同的图形：</p>
<ul>
<li>点图，可以使用圆点、三角形、正方形、十字符号等形状表示点</li>
<li>线图，可以有折线、曲线、点线等</li>
<li>多边形，可以是实心的多边形，也可以是空心的仅有边框的多边形</li>
</ul>
<p>这就产生了我们在前面提到的视觉通道中Shape（图形形状），图形形状决定了各个视觉通道和图形属性的映射，使用边框颜色还是填充颜色、使用点线还是实线，使用平滑线还是折线，都是由图形形状Shape决定的。</p>
<p>下图是各类型几何标记对应支持的shape：</p>
<table>
<thead>
<tr>
<th align="left">geom 类型</th>
<th align="left">shape 类型</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">point</td>
<td align="left">&lsquo;circle&rsquo;,&rsquo;square&rsquo;,&rsquo;bowtie&rsquo;,&rsquo;diamond&rsquo;,&rsquo;hexagon&rsquo;,&rsquo;triangle&rsquo;,&rsquo;triangle-down&rsquo;, &lsquo;hollowCircle&rsquo;,&rsquo;hollowSquare&rsquo;,&rsquo;hollowBowtie&rsquo;,&rsquo;hollowDiamond&rsquo;, &lsquo;hollowHexagon&rsquo;,&rsquo;hollowTriangle&rsquo;,&rsquo;hollowTriangle-down&rsquo;, &lsquo;cross&rsquo;,&rsquo;tick&rsquo;,&rsquo;plus&rsquo;,&rsquo;hyphen&rsquo;,&rsquo;line&rsquo;</td>
<td align="left">hollow开头的图形都是空心的</td>
</tr>
<tr>
<td align="left">line</td>
<td align="left">&lsquo;line&rsquo;,&rsquo;smooth&rsquo;,&rsquo;dot&rsquo;,&rsquo;dash&rsquo;,&rsquo;dotSmooth&rsquo;,&rsquo;spline&rsquo;</td>
<td align="left">dot ：点线，smooth： 平滑线</td>
</tr>
<tr>
<td align="left">area</td>
<td align="left">&lsquo;area&rsquo;,&rsquo;smooth&rsquo;,&rsquo;line&rsquo;,&rsquo;dotLine&rsquo;,&rsquo;smoothLine&rsquo;,&rsquo;dotSmoothLine&rsquo;</td>
<td align="left">[area]和[smooth]是填充内容的区域图，其他图表是空心的线图</td>
</tr>
<tr>
<td align="left">interval</td>
<td align="left">&lsquo;rect&rsquo;,&rsquo;hollowRect&rsquo;,&rsquo;line&rsquo;,&rsquo;tick&rsquo;,&rsquo;stroke&rsquo;</td>
<td align="left">[hollowRect]是空心的矩形， [line]和 [tick] 都是线段,stroke：带边框的矩形</td>
</tr>
<tr>
<td align="left">polygon</td>
<td align="left">&lsquo;polygon&rsquo;,&rsquo;hollow&rsquo;,&rsquo;stroke&rsquo;</td>
<td align="left">polygon：多边形、hollow：空心多边形和 stroke：带边框的多边形</td>
</tr>
<tr>
<td align="left">schema</td>
<td align="left">&lsquo;box&rsquo;,&rsquo;candle&rsquo;</td>
<td align="left">目前仅支持箱须图、K线图</td>
</tr>
</tbody>
</table>
<p>如何设计Shape
对于每个Shape的实现，我们需要确定以下内容：</p>
<ul>
<li>支持的视觉通道</li>
<li>映射到各个视觉通道的数据格式</li>
<li>图形对应的数据条数</li>
<li>图形的点的个数</li>
</ul>
<p>支持的视觉通道
不同的Shape支持的视觉通道不同，以G2实现的视觉通道为例：</p>
<ul>
<li>position(位置），所有的图表类型的Shape都支持这个属性</li>
<li>color(颜色）， 所有的图表类型的Shape都支持这个属性，但是映射到图形的边框还是填充图形，由各个Shape自己决定</li>
<li>size(大小），由上面介绍的几何标记的自由度决定</li>
<li>opacity(透明度），跟颜色类似</li>
</ul>
<p>接收的数据格式
对于G2来说，接收的数据都是标准的JSON数组，单条数据字段的格式支持2种类型：</p>
<ul>
<li>数值、字符串等标量值</li>
<li>数组，多个标量值构成的数组</li>
</ul>
<p>所以对于一个Shape来说需要定义好各个视觉通道支持的数据字段格式，下面的示例说明这个问题</p>
<p>柱状图
柱状图是图表类型interval的一个Shape ‘rect’定义的，各个视觉通道支持的数据格式：</p>
<ul>
<li>position 支持3种数据类型：</li>
<li>x，y都是单个标量值，如 {name: &lsquo;分类一&rsquo;,value: 100}</li>
<li>x是单个标量值，y是一个数组 ，如 {name: &lsquo;分类一&rsquo;,range: [10, 100]}</li>
<li>x是数组，y是单个标量值，例如学生成绩分布 {score: [60,70],count: 30}</li>
<li>color 仅支持一个标量值字段</li>
<li>size 仅支持数字标量值</li>
<li>opacity 支持数字标量值，范围 0-1</li>
</ul>
<p>各个图形对数据格式的支持，我们在后面章节中一一介绍。</p>
<p>需要的数据条数
数据映射到图形时，数据跟图形的对应关系对于不同的图表类型（数据标记）来说各不相同：</p>
<ul>
<li>
<p>point(点图）， 点图的数据条数和图形的对应关系，可以是1：1,也可以是1:n。如果对应位置的映射字段x,y都是单个标量，那么就是1：1,如果y是数组，那么就是1:n。</p>
<p>// 1: 1的数据
var data = [{month: &lsquo;一月&rsquo;, temperature: 10} , {month: &lsquo;二月&rsquo;, temperature: 15}]
// 1: 2的数据
var data = [{month: &lsquo;一月&rsquo;, temperature: [0,10]} , {month: &lsquo;二月&rsquo;, temperature: [5,15]}]</p>
</li>
<li>
<p>line（线图）和path(路径图），如果对应位置的映射字段x,y都是单个标量多条记录对应一条线,对应关系是n:1。如果y是数组，那么会生成多条记录对应关系是 n: n。同上面point的数据：</p>
</li>
<li>interval 一条记录生成一个图形，1:1</li>
<li>area(区域图）， 多条数据生成一个图形，无论对应位置的对应字段的格式如何</li>
<li>polygon，一条数据对应一个图形, 1: 1。</li>
<li>heatmap，多条记录生成一张图 n: 1</li>
<li>contour, 多条记录生成多条等高线 m: n</li>
</ul>
<p>需要的点的个数
绘制图形时，需要根据当前的数据生成图形的点，然后使用线或者弧连接起来，不同的图形需要点的个数不同:</p>
<ul>
<li>point，点图绘制时只需要一个点即可</li>
<li>line,path，绘制折线图/路径图时需要折线图上的多个点</li>
<li>area，绘制区域图时，需要代表数据的点与x轴上点 image</li>
<li>interval,绘制柱状图、玫瑰图、饼图时，需要知道四个顶点 image</li>
<li>polygon，绘制多边形时，每个顶点都需要一个点</li>
<li>heatmap，绘制热力图时需要多个点</li>
</ul>
<p>如何自定义Shape
在 Shape 的 api 文档中详细介绍了用户如何自定义几何图形。</p>
<h1 id="chart_1">Chart<a class="headerlink" href="#chart_1" title="Permanent link"></a></h1>
<p>Api</p>
<p>renderer forceFit width height data scale placeholder padding animate background plotBackground pixelRatio filter className style</p>
<p>Function</p>
<p>onGetG2Instance onPlotMove onPlotEnter onPlotLeave onPlotClick onPlotDblClick onTooltipChange onTooltipShow onTooltipHide</p>
<p>图表的组件，内部生成了一个 G2 chart 实例，同时控制着其他子组件的加载和更新。</p>
<p>子组件</p>
<ul>
<li><a href="#coord"><code>&lt;Coord/&gt;</code></a> 坐标系组件</li>
<li><a href="#axis"><code>&lt;Axis/&gt;</code></a> 坐标轴组件</li>
<li><a href="#geom"><code>&lt;Geom/&gt;</code></a> 几何标记组件</li>
<li><a href="#legend"><code>&lt;Legend/&gt;</code></a> 图例组件</li>
<li><a href="#tooltip"><code>&lt;Tooltip/&gt;</code></a> 提示框组件</li>
<li><a href="#guide"><code>&lt;Guide/&gt;</code></a> 辅助标记组件</li>
<li><a href="#facet"><code>&lt;Facet/&gt;</code></a> 分面组件</li>
<li><a href="#view"><code>&lt;View/&gt;</code></a> 视图组件</li>
</ul>
<div class="codehilite"><pre>&lt;Chart height={400} data={dv} scale={cols} forceFit&gt;
  &lt;Axis name=&quot;month&quot; /&gt;
  &lt;Axis name=&quot;temperature&quot; label={{formatter: val =&gt; `${val}°C`}}/&gt;
  &lt;Tooltip crosshairs={{type : &quot;y&quot;}}/&gt;
  &lt;Geom type=&quot;line&quot; position=&quot;month*temperature&quot; size={2} color={&#39;city&#39;} /&gt;
  &lt;Geom type=&#39;point&#39; position=&quot;month*temperature&quot; size={4} shape={&#39;circle&#39;} color={&#39;city&#39;} style={{ stroke: &#39;#fff&#39;, lineWidth: 1}} /&gt;
&lt;/Chart&gt;
</pre></div>

<h2 id="chartanimate">Chart.animate<a class="headerlink" href="#chartanimate" title="Permanent link"></a></h2>
<p>类型：Boolean
描述：图表动画开关，默认为 true，即开启动画。
如果用户需要自定义图表的动画，需要配置 animate 接口使用。具体参见 自定义动画</p>
<h2 id="chartbackground">Chart.background<a class="headerlink" href="#chartbackground" title="Permanent link"></a></h2>
<p>类型：Object
描述：设置图表整体的边框和背景样式，是一个对象，包含如下属性：</p>
<div class="codehilite"><pre>//可配置样式有
{
  fill: string, // 图表背景色
  fillOpacity: number, // 图表背景透明度
  stroke: string, // 图表边框颜色
  strokeOpacity: number, // 图表边框透明度
  opacity: number, // 图表整体透明度
  lineWidth: number, // 图表边框粗度
  radius: number // 图表圆角大小
}
</pre></div>


<h2 id="chartclassname">Chart.className<a class="headerlink" href="#chartclassname" title="Permanent link"></a></h2>
<p>类型：String
描述：设置图表最外层div的类名。</p>
<div class="codehilite"><pre>&lt;Chart className=&quot;chart1&quot; /&gt;
</pre></div>


<h2 id="chartdata">Chart.data<a class="headerlink" href="#chartdata" title="Permanent link"></a></h2>
<p>类型：Array/DataSet
描述：设置图表的数据源，data 是一个包含 JSON 对象的数组或者 DataSet.View 对象。 具体参见 数据</p>
<h2 id="chartfilter">Chart.filter<a class="headerlink" href="#chartfilter" title="Permanent link"></a></h2>
<p>类型：Array
描述：过滤数据，如果存在对应的图例，则过滤掉的字段置灰。 Array:[[fieldString1, callback1], [fieldString2, callback2]]</p>
<div class="codehilite"><pre>&lt;Chart
  filter={[
      [&#39;x&#39;, val =&gt; val &gt; 20] // 图表将会只渲染 x 字段数值大于 20 的数据
  ]}
/&gt;
</pre></div>


<h2 id="chartforcefit">Chart.forceFit<a class="headerlink" href="#chartforcefit" title="Permanent link"></a></h2>
<p>类型：Boolean
描述：图表的宽度自适应开关，默认为 false，设置为 true 时表示自动取 dom（实例容器）的宽度。
bizcharts 图表只提供自适应父容器宽度的功能，<strong>不能自适应高度</strong>。</p>
<h2 id="chartheight">Chart.height<a class="headerlink" href="#chartheight" title="Permanent link"></a></h2>
<p>类型：Number(必填)
描述：指定图表的高度，单位为 &lsquo;px&rsquo;。
宽和高未指定时，默认为 500px</p>
<h2 id="chartwidth">Chart.width<a class="headerlink" href="#chartwidth" title="Permanent link"></a></h2>
<p>类型：Number
描述：指定图表的宽度，默认单位为 &lsquo;px&rsquo;，当 forceFit: true 时宽度配置不生效。
可以通过 style 属性设置，不支持其它单位如 vw/vh/%。 </p>
<div class="codehilite"><pre>style={{height:&quot;50vh&quot;, width:&quot;50vw&quot;}}
</pre></div>


<h2 id="chartpadding">Chart.padding<a class="headerlink" href="#chartpadding" title="Permanent link"></a></h2>
<p>类型：Object | Number | Array
描述：图表内边距，有如下配置方式:</p>
<div class="codehilite"><pre>//有时候坐标轴、图例等绘图区域外的组件显示不全时，可以通过调整图表各个方向的 padding 来调整最终效果
&lt;Chart padding=&quot;auto&quot; /&gt;
&lt;Chart padding={[ 20, 30, 20, 30]} /&gt;
&lt;Chart padding={20} /&gt;
&lt;Chart padding={{ top: 20, right: 30, bottom: 20, left: 30 }} /&gt;
&lt;Chart padding={[20, &#39;auto&#39;, 30, &#39;auto&#39;]} /&gt;
&lt;Chart padding={[&#39;20%&#39;, &#39;30%&#39;]} /&gt;
</pre></div>


<p>padding 为数字以及数组类型时使用方法同 CSS 盒模型。
padding 中存在 &lsquo;auto&rsquo;，时会自动计算边框，目前仅考虑 axis 和 legend 占用的边框。
另外也支持设置百分比，如 padding: [ &lsquo;20%&rsquo;, &lsquo;30%&rsquo; ]，该百分比相对于整个图表的宽高。
paddding=&rdquo;auto&rdquo; vs 没有设置padding</p>
<h2 id="chartpixelratio">Chart.pixelRatio<a class="headerlink" href="#chartpixelratio" title="Permanent link"></a></h2>
<p>类型：Number
描述：设置设备像素比，默认取浏览器的值 window.devicePixelRatio。</p>
<h2 id="chartplaceholder">Chart.placeholder<a class="headerlink" href="#chartplaceholder" title="Permanent link"></a></h2>
<p>类型：string
描述：图表source为空时显示的内容，未设置该属性时为G2 默认样式。<Chart placeholder /> 则为Bizcharts 定义的无数据提示。 默认值:</p>
<div class="codehilite"><pre>&lt;div style={{ position: &#39;relative&#39;, top: &#39;48%&#39;, textAlign: &#39;center&#39; }}&gt;暂无数据&lt;/div&gt;
</pre></div>


<p>会在图表区域的中间显示 &ldquo;暂无数据&rdquo; 。</p>
<h2 id="chartplotbackground">Chart.plotBackground<a class="headerlink" href="#chartplotbackground" title="Permanent link"></a></h2>
<p>类型：Object
描述：图表绘图区域的边框和背景样式，是一个对象，包含如下属性：</p>
<div class="codehilite"><pre>//可配置样式有
{
  fill: string, // 图表背景色
  fillOpacity: number, // 图表背景透明度
  stroke: string, // 图表边框颜色
  strokeOpacity: number, // 图表边框透明度
  opacity: number, // 图表整体透明度
  lineWidth: number, // 图表边框粗度
  radius: number // 图表圆角大小
}
</pre></div>


<h2 id="chartrenderer">Chart.renderer<a class="headerlink" href="#chartrenderer" title="Permanent link"></a></h2>
<p>类型：String
描述：指定图表的渲染方式，自BizCharts 3.2.1-beta.2版本开始，支持 chart 级别使用 svg 渲染。
默认值: canvas,可选值 svg.
使用方式1: 指定当前所有图表都用 svg 渲染。</p>
<div class="codehilite"><pre>const { G2 } from &#39;bizcharts&#39;;
G2.Global.renderer = &#39;svg&#39; // or &#39;canvas&#39;;
</pre></div>


<p>使用方式2: 指定这一个图表使用 svg 渲染。</p>
<div class="codehilite"><pre>&lt;Chart renderer=&#39;svg&#39; width={600} height={400} data={data} scale={scale} forceFit/&gt;
</pre></div>


<p>svg、canvas 渲染更多说明请点击</p>
<h2 id="chartscale">Chart.scale<a class="headerlink" href="#chartscale" title="Permanent link"></a></h2>
<p>类型：Object
描述：配置数据比例尺，该配置会影响数据在图表中的展示方式。</p>
<div class="codehilite"><pre>const scale = {
  &#39;sales&#39;: {
    type: &#39;identity&#39; | &#39;linear&#39; | &#39;cat&#39; | &#39;time&#39; | &#39;timeCat&#39; | &#39;log&#39; | &#39;pow&#39;, // 指定数据类型
    alias: string,       // 数据字段的别名，会影响到轴的标题内容
    formatter: () =&gt; {}, // 格式化文本内容，会影响到轴的label格式
    range: array,        // 输出数据的范围，默认[0, 1]，格式为 [min, max]，min 和 max 均为 0 至 1 范围的数据。
    tickCount: number,   // 设置坐标轴上刻度点的个数
    ticks: array,        // 用于指定坐标轴上刻度点的文本信息，当用户设置了 ticks 就会按照 ticks 的个数和文本来显示
    sync: boolean        // 当 chart 存在不同数据源的 view 时，用于统一相同数据属性的值域范围
  }
};
&lt;Chart data={data} scale={scale} /&gt;
</pre></div>


<p>!注意：除了以上属性外，不同的 type 还对应有各自的可配置属性，详见 Scale 度量 API;</p>
<h2 id="chartstyle">Chart.style<a class="headerlink" href="#chartstyle" title="Permanent link"></a></h2>
<p>类型：Object
描述：设置图表最外层div的样式。</p>
<div class="codehilite"><pre>const style={fontSize: &#39;12&#39;}
&lt;Chart style={style} /&gt;
</pre></div>


<h2 id="charttheme">Chart.theme<a class="headerlink" href="#charttheme" title="Permanent link"></a></h2>
<p>类型：String | Object
描述：设置当前图表的主题，默认提供 &ldquo;default&rdquo; 和 &ldquo;dark&rdquo; 样式。也可以是一个包含主题配置项的对象，具体配置项参考图表皮肤内容。
这是“Chart 级别的主题样式配置”。</p>
<h1 id="coord_1">Coord<a class="headerlink" href="#coord_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/coord">api coord</a></p>
<p>坐标系组件。 坐标系是将两种位置标度结合在一起组成的 2 维定位系统，描述了数据是如何映射到图形所在的平面。BizCharts 将坐标系抽象为组件，并且包含两种类型坐标系极坐标系（polar、theta、helix 均属于极坐标）和笛卡尔坐标系，目前所有的坐标系均是 2 维的。</p>
<p>Parent Component
- <a href="#chart"><code>&lt;Chart /&gt;</code></a>
- <a href="#view"><code>&lt;View /&gt;</code></a></p>
<p>Child Component</p>
<p><code>&lt;Coord /&gt;</code> 组件下不能嵌套其他图表组件。</p>
<p>使用说明
Coord组件用来描述图表中各元素绘制时所处的坐标系，一般一个图表中只存在一个坐标系；但是<code>&lt;View /&gt;</code>中可以有独立坐标系存在；若没有特别说明，则默认当前图表的坐标系为直角坐标系（rect）。</p>
<p>默认采用笛卡尔坐标系，若要改变坐标系可以通过type属性改变。</p>
<p>例如下图展示的层叠柱状图，在不同坐标系下就变换成了其他的图表类型：</p>
<p>上图左侧为层叠柱状图，中间的饼图则是层叠柱状图在极坐标下对 x y 两个坐标轴进行转置后的结果，其中 x 轴被映射为半径，y 轴被映射成了角度。而最右边的牛眼图则相反，y 轴映射为半径。</p>
<h2 id="coordtype">Coord.type<a class="headerlink" href="#coordtype" title="Permanent link"></a></h2>
<p>类型：String
描述：坐标系类型;不同类型的坐标系所支持的配置属性也不一样。具体见各类型属性说明。
BizCharts 中支持的坐标系有：</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="#coordrect">rect</a></td>
<td align="left">默认类型，直角坐标系，由 x, y 两个垂直的维度构成。</td>
</tr>
<tr>
<td align="left"><a href="#coordpolar">polar</a></td>
<td align="left">极坐标系，由角度和半径 2 个维度构成。</td>
</tr>
<tr>
<td align="left"><a href="#coordtheta">theta</a></td>
<td align="left">一种半径固定的极坐标系，常用于饼图。</td>
</tr>
<tr>
<td align="left"><a href="#coordhelix">helix</a></td>
<td align="left">螺旋坐标系，基于阿基米德螺旋线。</td>
</tr>
</tbody>
</table>
<h2 id="coordrotate">Coord.rotate<a class="headerlink" href="#coordrotate" title="Permanent link"></a></h2>
<p>类型：Number
描述：坐标系旋转，angle 表示旋转的度数，单位为角度。</p>
<h2 id="coordscale">Coord.scale<a class="headerlink" href="#coordscale" title="Permanent link"></a></h2>
<p>类型：Array
描述：放大、缩小，默认按照坐标系中心放大、缩小。 参数为长度2的数组，第一个值代表 x 方向缩放比例，第二个值代表 y 方向缩放比例。</p>
<div class="codehilite"><pre>&lt;Coord scale={[0.7, 1.2]} /&gt;
</pre></div>


<h2 id="coordreflect">Coord.reflect<a class="headerlink" href="#coordreflect" title="Permanent link"></a></h2>
<p>类型：&rsquo;x&rsquo; | &lsquo;y&rsquo; | Array
描述：镜像, 沿 x 方向镜像或者沿 y 轴方向映射。默认值为：&rsquo;y&rsquo;. 如果参赛是个数组，将依次调用.例如[&lsquo;x&rsquo;, &lsquo;y&rsquo;] 则先执行x方向翻转reflect(&lsquo;x&rsquo;) 再执行y方向翻转reflect(&lsquo;y&rsquo;),以此类推。 image
transpose
类型: Boolean
描述: 将坐标系 x 轴和 y 轴交换. image</p>
<h2 id="coordrect">Coord.rect 直角坐标系<a class="headerlink" href="#coordrect" title="Permanent link"></a></h2>
<p>无额外配置参数。</p>
<h2 id="coordpolar">Coord.polar 极坐标系<a class="headerlink" href="#coordpolar" title="Permanent link"></a></h2>
<h2 id="coordtheta">Coord.theta 极坐标系<a class="headerlink" href="#coordtheta" title="Permanent link"></a></h2>
<p>polar、theta 类型的极坐标系配置</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
radius  设置半径，值为 0 至 1 的小数   Number      
innerRadius 内部极坐标系的半径，[0 - 1]的小数    Number      
startAngle  起始角度（弧度）    Number      
endAngle    结束角度（弧度）    Number

//polar 示例
&lt;coord type=&quot;polar&quot; radius={0.5} startAngle={-Math.PI / 6} endAngle={7 * Math.PI /6}/&gt;

//theta 示例
&lt;coord type=&quot;theta&quot; innerRadius={0.5}/&gt;
</pre></div>


<h2 id="coordgauge">Coord.gauge 极坐标系<a class="headerlink" href="#coordgauge" title="Permanent link"></a></h2>
<p>gauge 类型的极坐标系配置</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
startAngle  起始角度（弧度）    Number      
endAngle    结束角度（弧度）    Number
</pre></div>


<h2 id="coordclock">Coord.clock 类型的极坐标系配置<a class="headerlink" href="#coordclock" title="Permanent link"></a></h2>
<p>无额外配置属性。</p>
<div class="codehilite"><pre>// 这里只显示部分核心代码
&lt;Chart width={600} height={400} data={val} scale={cols} padding={100}&gt;
    &lt;Coord type=&#39;gauge&#39; startAngle={-9/8 * Math.PI} endAngle={1/8 * Math.PI} /&gt;
    &lt;Axis name=&quot;value&quot; /&gt;
    &lt;Geom type=&quot;point&quot; position=&quot;value&quot; /&gt;
&lt;/Chart&gt;
</pre></div>


<h2 id="coordmap">Coord.map 地理坐标系<a class="headerlink" href="#coordmap" title="Permanent link"></a></h2>
<p>地理坐标系，支持不同类型的地理投影。</p>
<p>对于 map 类型的坐标系，情况比较特殊，对于不同的投影支持的可配置属性不同。如下所示：</p>
<p>适用于中国地图的 albers 投影</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
projection  指定投影方法  String  albers  
basic   指定投影方法的基本参数，[λ0, φ0, φ1, φ2] 分别表示中央经度、坐标起始纬度、第一标准纬度、第二标准纬度度 Array   [110, 0, 25, 47]    
max 指定投影后最大的坐标点 Array   [16.573, -13.613]   
min 指定投影后最小的坐标点 Array   [-27.187, -49.739]
</pre></div>


<p>适用于世界地图的 albers 投影</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
projection  指定投影方法  String  albers  
basic   指定投影方法的基本参数，[λ0, φ0, φ1, φ2] 分别表示中央经度、坐标起始纬度、第一标准纬度、第二标准纬度度 Array   [0, 0, 0, 60]   
max 指定投影后最大的坐标点 Array   [161.89, 120.635]   
min 指定投影后最小的坐标点 Array   [-144.485, -27.666]
</pre></div>


<p>适用与中国地图的 mercator 投影</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
projection  指定投影方法  String  mercator    
max 指定投影后最大的坐标点 Array   [161.89, 120.635]   
min 指定投影后最小的坐标点 Array   [-144.485, -27.666]
</pre></div>


<p>适用于世界地图的 mercator 投影</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
projection  指定投影方法  String  mercator    
max 指定投影后最大的坐标点 Array   [134.77, 63.68] 
min 指定投影后最小的坐标点 Array   [73.60, 18.48]
</pre></div>


<h2 id="coordhelix">Coord.helix 螺旋坐标系配置<a class="headerlink" href="#coordhelix" title="Permanent link"></a></h2>
<p>螺旋坐标系，常用于周期性数据。</p>
<p>对于螺旋坐标系，其可配置的参数如下：</p>
<div class="codehilite"><pre>属性名 说明  类型  可选值 默认值
radius  设置半径，值为 0 至 1 的小数   Number      
startAngle  螺旋线起点弧度 Number      
endAngle    螺线线终点弧度 Number

//示例
&lt;Coord type=&quot;helix&quot; startAngle={0.5 * Math.PI} endAngle={12.5 * Math.PI} radius={0.8}/&gt;
</pre></div>


<h1 id="geom_1">Geom<a class="headerlink" href="#geom_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/Geom">api Geom</a></p>
<p>Api
type adjust position color shape size opacity style tooltip select Active animate</p>
<p>几何标记对象，决定创建图表的类型，具体的概念介绍请参见 。</p>
<p>什么是几何标记
几何标记指点、线、面这些几何图形。BizCharts 中并没有特定的图表类型（柱状图、散点图、折线图等）的概念，用户通过配置集合标记的类型来配置图表类型，比如折线图和柱状图的组合。</p>
<p>BizCharts 生成的图表的类型，是由几何标记和坐标系共同决定的。</p>
<p>几何标记和图表类型
虽然 BizCharts 没有特定的图表类型概念，但是仍基本支持所有传统图表类型的绘制。</p>
<p>下表展示了 BizCharts 中的 geom 几何标记类型和传统图表的对应关系，更多的图表详见 BizCharts 官网的 demo。</p>
<p>父组件
- <a href="#chart"><code>&lt;Chart /&gt;</code></a>
- <a href="#view"><code>&lt;View /&gt;</code></a></p>
<p>子组件
- <a href="#label"><code>&lt;Label /&gt;</code></a></p>
<h2 id="geomtype">Geom.type<a class="headerlink" href="#geomtype" title="Permanent link"></a></h2>
<p>类型：String
描述：几何标记类型，目前 BizCharts 支持的几何标记类型如下：</p>
<table>
<thead>
<tr>
<th>type</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>point</code></td>
<td>点，用于点图的构建。</td>
</tr>
<tr>
<td><code>path</code></td>
<td>路径，无序的点连接而成的一条线。</td>
</tr>
<tr>
<td><code>line</code></td>
<td>线，点按照 x 轴连接成一条线，构成线图。</td>
</tr>
<tr>
<td><code>area</code></td>
<td>填充线图跟坐标系之间构成区域图，也可以指定上下范围。</td>
</tr>
<tr>
<td><code>interval</code></td>
<td>使用矩形或者弧形，用面积来表示大小关系的图形，一般构成柱状图、饼图等图表。</td>
</tr>
<tr>
<td><code>polygon</code></td>
<td>多边形，可以用于构建热力图、地图等图表类型。</td>
</tr>
<tr>
<td><code>schema</code></td>
<td>k线图，箱型图。</td>
</tr>
<tr>
<td><code>edge</code></td>
<td>树图、流程图、关系图。</td>
</tr>
<tr>
<td><code>heatmap</code></td>
<td>热力图。</td>
</tr>
</tbody>
</table>
<p>同时 BizCharts 默认提供了如下 8 中几何标记和<a href="#geomadjust">数据调整</a>的组合类型。</p>
<table>
<thead>
<tr>
<th>type</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pointStack</code></td>
<td>层叠点图</td>
</tr>
<tr>
<td><code>pointJitter</code></td>
<td>扰动点图</td>
</tr>
<tr>
<td><code>pointDodge</code></td>
<td>分组点图</td>
</tr>
<tr>
<td><code>intervalStack</code></td>
<td>层叠柱状图</td>
</tr>
<tr>
<td><code>intervalDodge</code></td>
<td>分组柱状图</td>
</tr>
<tr>
<td><code>intervalSymmetric</code></td>
<td>对称柱状图</td>
</tr>
<tr>
<td><code>areaStack</code></td>
<td>层叠区域图</td>
</tr>
<tr>
<td><code>schemaDodge</code></td>
<td>分组箱型图</td>
</tr>
</tbody>
</table>
<h2 id="geomadjust-adjusttype">Geom.adjust adjustType<a class="headerlink" href="#geomadjust-adjusttype" title="Permanent link"></a></h2>
<p>类型：Object
描述：声明几何标记对象的数据调整方式，可用于绘制层叠图、扰动图、分组图等。支持单一的数据调整方式也支持各种数据调整方式的组合。 支持的调整类型包括： &lsquo;stack&rsquo; 堆叠, &lsquo;dodge&rsquo;, &lsquo;jitter&rsquo; 扰动图晃动图形起点, &lsquo;symmetric&rsquo; 横轴对称。</p>
<div class="codehilite"><pre>&lt;Geom
  type= &quot;point&quot;
  adjust= {&#39;stack&#39;}
  // or
  adjust= {[&#39;dodge&#39;, &#39;stack&#39;]}
  // or
  adjust= {[
    {
      type: &#39;dodge&#39;,
      marginRatio: 0, // 数值范围为 0 至 1，用于调整分组中各个柱子的间距
      dodgeBy: &#39;xx&#39;, // 声明按照 xx 字段进行分组，一般不需要声明
    }
  ]}
/&gt;
</pre></div>


<h2 id="geomposition">Geom.position<a class="headerlink" href="#geomposition" title="Permanent link"></a></h2>
<p>类型：String
描述：位置属性的映射；用于确定由数据中的哪几个字段来确定数据在平面坐标系的位置。通俗地解释，即确定 x 轴和 y 轴的数据字段。它是唯一一个可以用于编码分类又可用于编码定序或者定量的数据属性。</p>
<div class="codehilite"><pre>&lt;Geom position=&quot;x*y&quot; /&gt;
&lt;Geom position={[&#39;x&#39;, &#39;y&#39;]} /&gt;
</pre></div>


<p>使用 * 连接，position 属性会对多个字段进行数据的映射，如：cutprice，xy 等，用于二维坐标系图表的绘制。</p>
<p>以 chart.point().position(&lsquo;xy&rsquo;) 为例，point 代表图形，即最后需要生成点图，而 position 代表位置，position(&lsquo;xy&rsquo;) 代表数据在图形中的位置由 x 和 y 这两个维度的变量决定，x * y 的数据处理结果可以理解为：</p>
<p>(x1, y1) 这样的数值对，最后就会被转换为画布上对应的坐标点。</p>
<p>另外，也可以以数组格式传入：chart.geom().position([ &lsquo;fieldA&rsquo;, &lsquo;fieldB&rsquo; ])</p>
<h2 id="geomcolor">Geom.color<a class="headerlink" href="#geomcolor" title="Permanent link"></a></h2>
<p>类型： String | Array
描述：将数据值映射到图形的颜色上的方法。
color 支持的映射值如下：</p>
<p>&lsquo;field&rsquo;，field 为数据字段名，内部会使用主题中的默认颜色进行数据值到颜色值的映射；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom color=&#39;cut&#39;/&gt;
</pre></div>


<p>[&lsquo;field&rsquo;, colors]，将数据值映射至指定的颜色值 colors（可以是字符串也可以是数组），此时用于通常映射分类数据；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom color={[&#39;city&#39;, [&#39;#ff0000&#39;, &#39;#00ff00&#39;]]}/&gt;
</pre></div>


<p>[&lsquo;field&rsquo;, &lsquo;color1-color2-colorN&rsquo;)]，指定颜色的渐变路径，用于映射连续的数据；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom color={[&#39;price&#39;, &#39;#ff0000-#00ff00&#39;]}/&gt;
</pre></div>


<p>[&lsquo;field&rsquo;, callback)]，使用回调函数进行颜色值的自定义；可以使用多个字段使用 * 号连接 注意： color 属性的回调函数一般返回的单个颜色，因为 G2 中所有的 shape 仅支持单个颜色 color 属性的回调函数也可以返回数组，数组中有多个颜色，但是这时候需要 shape 支持多颜色的解析，详细情况查看 自定义shape。</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom
  color={[&#39;cut&#39;, (cut)=&gt;{
    //some code
      if(cut &lt; 1000)
        return &#39;#00ff00&#39;;
      else
        return &#39;#ff0000&#39;;
    }]}
/&gt;
color(&#39;#ffffff&#39;)， 直接指定颜色常量，不进行数据映射。
//代码示例
&lt;Geom color=&#39;#ffffff&#39;/&gt;
</pre></div>


<h2 id="geomshape">Geom.shape<a class="headerlink" href="#geomshape" title="Permanent link"></a></h2>
<p>类型： String | Array
描述：将数据值映射到图形的形状上的方法。
shape 支持的映射值如下：</p>
<p>&lsquo;field&rsquo;，将指定的字段映射到内置的 shapes 数组中；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom shape=&#39;city&#39;/&gt;
</pre></div>


<p>[&lsquo;field&rsquo;, shapes]，用户自己提供 shapes 数据，来进行数据映射；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom shape={[&#39;city&#39;, [&#39;circle&#39;, &#39;rect&#39;]]} /&gt;
</pre></div>


<p>[&lsquo;fields&rsquo;, callback]，使用回调函数获取 shape，用于个性化的 shape 定制，可以根据单个或者多个字段确定；</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom
  shape={[&#39;city&#39;, (city)=&gt;{
    if(city == &#39;hangzhou&#39;){
      return &#39;circle&#39;;
    }
    return &#39;rect&#39;;
  }]}
/&gt;
</pre></div>


<p>&lsquo;shapeType&rsquo;，指定常量，将所有数据值映射到固定的 shape。</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom shape=&#39;circle&#39; /&gt;
</pre></div>


<p>另外 BizCharts 提供了自定义 shape 的功能，用户可以自己绘制需要的 shape，详见自定义 shape。</p>
<p>注：使用几何标记实现各种图表类型时，对于每一种几何标记来说，图形在绘制的时候有不同的形状（shape)，在几何标记 章节已列出了目前 BizCharts 提供的 Geom 默认支持的 shape。</p>
<h2 id="geomsize">Geom.size<a class="headerlink" href="#geomsize" title="Permanent link"></a></h2>
<p>类型： String | Array| Number</p>
<p>描述：对于不同的几何标记含义不完全一致：</p>
<p>对于 point 点来说，size 对应着点的半径；</p>
<p>对于 line 线来说，size 对应着线的粗细；</p>
<p>对于 interval 柱状图来说，size 对应着柱子的宽度。</p>
<p>size 支持映射值如下：</p>
<div class="codehilite"><pre>&#39;field&#39;，指定映射到 size 的字段，使用内置的默认大小范围为 [1, 10]；
//代码示例
&lt;Geom size=&#39;count&#39;/&gt;
[&#39;field&#39;, [ min, max ]]，指定映射到 size 字段外，还提供了 size 的最大值和最小值范围；
//代码示例
&lt;Geom size={[&#39;count&#39;, [1, 10]]}/&gt;
[&#39;fields&#39;, callback)]，使用回调函数映射 size，用于个性化的 size 定制，可以使用多个字段进行映射；
//代码示例
&lt;Geom size={[&#39;count&#39;, (count)=&gt;{
  if(count &gt; 1000)
    return 10;
  else return 1;
}]}/&gt;
Number，直接指定像素大小。
//代码示例
&lt;Geom size={3}/&gt;
</pre></div>


<h2 id="geomopacity">Geom.opacity<a class="headerlink" href="#geomopacity" title="Permanent link"></a></h2>
<p>类型： String | Array| Number
描述：将数据值映射到图形的透明度上的方法。</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom opacity=&#39;field&#39;/&gt; // 使用字段映射到透明度
&lt;Geom opacity={0.2}/&gt; // 常量，但是数值范围为 0 - 1
&lt;Geom opacity={[&#39;count&#39;, (count)=&gt;{ // 回调函数
  if(count &gt; 1000)
    return 0.6;
  return 0.1;
}]}/&gt;
</pre></div>


<h2 id="geomstyle">Geom.style<a class="headerlink" href="#geomstyle" title="Permanent link"></a></h2>
<p>类型：Object | Array
描述：配置几何图形的样式。 当 style 的值是 Object 时，该 Object 中只能设置固定样式。 当 style 的值是 Array 时，可以通过回调函数根据具体的数据去动态配置样式。</p>
<div class="codehilite"><pre>//代码示例
&lt;Geom
  style={{
    lineWidth:1
  }}
  //或者
  style={[&#39;sales*city&#39;, {
    lineWidth:1,
    stroke:(sales, city)=&gt;{
      if(city === &#39;hangzhou&#39; &amp;&amp; sales &gt; 1000)
        return &quot;#ff0000&quot;;
      return &quot;#00ff00&quot;;
    }
   }]}
/&gt;
</pre></div>


<h2 id="geomtooltip">Geom.tooltip<a class="headerlink" href="#geomtooltip" title="Permanent link"></a></h2>
<p>类型：Boolean | String | Array
描述：将数据值映射到 Tooltip 上。
Boolean 该几何标记是否需要显示 tooltip，默认值 false；
String 格式为 abc，该几何标记上 tooltip 需要显示的数据字段，每个字段将会显示为一行。
Array 格式为 [abc, callback],该几何标记上 tooltip 需要显示的数据字段,同时可以在 callback 中调整数据的显示格式。</p>
<div class="codehilite"><pre>&lt;Geom tooltip={false} /&gt;
&lt;Geom
  tooltip={[&#39;sales*city&#39;, (sales, city)=&gt;{
    return {
      name:&#39;xxx&#39;,
      value:city + &#39;:&#39; + sales
    }
  }]}
/&gt;
</pre></div>


<h2 id="geomselect">Geom.select<a class="headerlink" href="#geomselect" title="Permanent link"></a></h2>
<p>类型： Boolean | Array</p>
<p>描述：开启、关闭以及设置 shape 对于鼠标 click 事件的响应效果。BizCharts 默认仅为饼图开启了选中效果。</p>
<p>Boolean，是否打开 对于鼠标 click 事件的响应效果。</p>
<p>Array，[Boolean, configObject]。</p>
<div class="codehilite"><pre>&lt;Geom
  select={[true, {
    mode: &#39;single&#39; || &#39;multiple&#39;, // 选中模式，单选、多选
    style: { }, // 选中后 shape 的样式
    cancelable: true | false, // 选中之后是否允许取消选中，默认允许取消选中
    animate: true | false // 选中是否执行动画，默认执行动画
  }]}
/&gt;
</pre></div>


<h2 id="geomactive">Geom.active<a class="headerlink" href="#geomactive" title="Permanent link"></a></h2>
<p>类型：Boolean | Array</p>
<p>描述：开启以及关闭 shape 对于鼠标 hover 时的响应效果，G2 默认为各个 geom 内置了 active 效果 。</p>
<p>Boolean，是否打开 对于鼠标 hover 事件的响应效果。</p>
<p>Array，[Boolean, configObject]。</p>
<div class="codehilite"><pre>&lt;Geom
  active={[true, {
  highlight: false, // true 是否开启 highlight 效果，开启时没有激活的变灰
    style: { 
    fill: &#39;red&#39;
  } // 选中后 shape 的样式
  }]}
/&gt;
</pre></div>


<h2 id="geomanimate">Geom.animate<a class="headerlink" href="#geomanimate" title="Permanent link"></a></h2>
<p>类型：Object
描述：定义几何标记上的动画效果，具体配置参数及使用参见animate文档</p>
<h2 id="geomhide">Geom.hide<a class="headerlink" href="#geomhide" title="Permanent link"></a></h2>
<p>类型： Boolean
描述： 该 geom 是否默认隐藏
默认值： false</p>
<h1 id="axis_1">Axis<a class="headerlink" href="#axis_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/axis">Axis</a></p>
<h1 id="label_1">Label<a class="headerlink" href="#label_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/label">Label</a></p>
<p><a href="#geom"><code>&lt;Geom&gt;</code></a> 几何标记上的标注文本组件。</p>
<p>使用说明
<code>&lt;Label ／&gt;</code> 组件只能够被嵌套在 <a href="#geom"><code>&lt;Geom/&gt;</code></a> 组件内,如下所示。
<div class="codehilite"><pre>&lt;Geom&gt;
  &lt;Label content=&#39;sales&#39; /&gt;
&lt;/Geom&gt;
</pre></div></p>
<p>API</p>
<h2 id="labelcontent-string-arraystring-function">Label.content    * String | Array:[String, Function] *<a class="headerlink" href="#labelcontent-string-arraystring-function" title="Permanent link"></a></h2>
<p>指定 label 上显示的文本内容，可以是数据纬度，也可以自定义。
使用示例:
<div class="codehilite"><pre>&lt;Label content=&quot;常量字符串&quot; /&gt;
// 使用数据
&lt;Label content=&quot;sales*date&quot;/&gt;
// 使用回调函数
&lt;Label content={[&quot;sales*date&quot;, (sales, date)=&gt;{
    return `${data}:${sales}`;
  }]}
/&gt;
</pre></div></p>
<h2 id="labellabelline-object">Label.labelLine     * Object *<a class="headerlink" href="#labellabelline-object" title="Permanent link"></a></h2>
<p>文本距离几何线的配置，如果值为 false，表示不展示文本线。默认不展示。
使用示例:
<div class="codehilite"><pre>&lt;Label
  content=&quot;some label&quot;
  labelLine={{
    lineWidth: 1, // 线的粗细
    stroke: &#39;#ff8800&#39;, // 线的颜色
    lineDash: [ 2, 1 ], // 虚线样式
  }}
/&gt;
</pre></div></p>
<h2 id="labeloffset-number">Label.offset   * Number *<a class="headerlink" href="#labeloffset-number" title="Permanent link"></a></h2>
<p>设置文本距离几何图形的的距离</p>
<h2 id="labeltextstyle-object">Label.textStyle   * Object *<a class="headerlink" href="#labeltextstyle-object" title="Permanent link"></a></h2>
<p>文本的图形样式。其他样式请参考<a href="./graphic.md">绘图属性</a>
 ```jsx
<Label
  content='sales'
  textStyle={{
    textAlign: 'center', // 文本对齐方向，可取值为： start middle end
    fill: '#404040', // 文本的颜色
    fontSize: '12', // 文本大小
    fontWeight: 'bold', // 文本粗细
    rotate: 30,
    textBaseline: 'top' // 文本基准线，可取 top middle bottom，默认为middle
  }}
/>
<div class="codehilite"><pre>样式值支持回调：
```jsx
&lt;Label
  content=&#39;sales&#39;
  textStyle={(sales) =&gt; {
    let textAlign = &#39;center&#39;, // 文本对齐方向，可取值为： start middle end
    let fill = (sales &gt; 1000) ? &#39;#ff0000&#39; : &#39;#00ff00&#39;;
    return {textAlign: textAlign, fill: fill};
    }}
/&gt;
</pre></div></p>
<h2 id="labelautorotate-boolean">Label.autoRotate     * Boolean *<a class="headerlink" href="#labelautorotate-boolean" title="Permanent link"></a></h2>
<p>是否需要自动旋转。
默认值：true</p>
<h2 id="labelformatter-function">Label.formatter      * Function *<a class="headerlink" href="#labelformatter-function" title="Permanent link"></a></h2>
<p>用于格式化坐标轴上显示的文本信息。
<div class="codehilite"><pre>&lt;Label
  content=&#39;name&#39;
  formatter={(text, item, index)=&gt;{
    // text 为每条记录 x 属性的值
    // item 为映射后的每条数据记录，是一个对象，可以从里面获取你想要的数据信息
    // index 为每条记录的索引
    var point = item.point; // 每个弧度对应的点
    var percent = point[&#39;percent&#39;];
    percent = (percent * 100).toFixed(2) + &#39;%&#39;;
    return name + &#39; &#39; + percent;
  }}
/&gt;
</pre></div></p>
<h2 id="labelhtmltemplate-function">Label.htmlTemplate   * Function *<a class="headerlink" href="#labelhtmltemplate-function" title="Permanent link"></a></h2>
<p>自定义 html 文本
<div class="codehilite"><pre>&lt;Label
  content=&#39;name&#39;
  htmlTemplate={(text, item, index)=&gt;{
    // text 为每条记录 x 属性的值
    // item 为映射后的每条数据记录，是一个对象，可以从里面获取你想要的数据信息
    // index 为每条记录的索引
    var point = item.point; // 每个弧度对应的点
    var percent = point[&#39;percent&#39;];
    percent = (percent * 100).toFixed(2) + &#39;%&#39;;
    // 自定义 html 模板
    return &#39;&lt;span class=&quot;title&quot; style=&quot;display: inline-block;width: 50px;&quot;&gt;&#39; + text + &#39;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color:&#39; + point.color + &#39;&quot;&gt;&#39; + percent + &#39;&lt;/span&gt;&#39;;
  }
/&gt;
</pre></div></p>
<h2 id="tooltip">ToolTip<a class="headerlink" href="#tooltip" title="Permanent link"></a></h2>
<p><a href="https://bizcharts.net/products/bizCharts/api/tooltip">ToolTip</a></p>
<p>提示信息(tooltip)组件，是指当鼠标悬停在图表上的某点时，以提示框的形式展示该点的数据，比如该点的值，数据单位等。
<!-- <img src="https://gw.alipayobjects.com/zos/rmsportal/VLNhkKRALafPtDCIZFqA.png" width="415px"> --></p>
<p>使用说明
- <code>&lt;Tooltip /&gt;</code> 坐标系组件只可以作为 <a href="#chart"><code>&lt;Chart /&gt;</code></a> 或 <a href="#view"><code>&lt;View /&gt;</code></a> 组件的子组件，同时<code>&lt;Tooltip /&gt;</code>组件下不能嵌套其他图表组件。</p>
<ul>
<li>BizCharts 当且仅当<code>&lt;Tooltip /&gt;</code>存在时图表才展示tooltip，如下所示：</li>
</ul>
<div class="codehilite"><pre>&lt;Chart width={600} height={400} data={data}&gt;
  &lt;Tooltip /&gt; // 开启图表tooltip功能
  &lt;Geom type=&quot;bar&quot; position=&quot;genre*sold&quot; color=&quot;genre&quot; /&gt;
&lt;/Chart&gt;
</pre></div>

<p>Tooltip 组成
<img alt="" src="https://zos.alipayobjects.com/skylark/750725d4-2e58-4420-b886-4abe1c0335c2/attach/2378/ad8fe2daa557ad62/image.png" /></p>
<blockquote>
<p>BizCharts 将 G2 中 <em>chart.tooltip(option)</em> 中 option 上最顶层的配置属性平坦到了 <Tooltip /> 组件属性上。</p>
</blockquote>
<h2 id="tooltipshowtitle-boolean">ToolTip.showTitle    * Boolean *<a class="headerlink" href="#tooltipshowtitle-boolean" title="Permanent link"></a></h2>
<p>是否展示提示信息的标题，默认为 true，即展示，通过设置为 false 来隐藏标题。</p>
<h2 id="tooltipcrosshairs-object">ToolTip.crosshairs   * Object *<a class="headerlink" href="#tooltipcrosshairs-object" title="Permanent link"></a></h2>
<p>是一个对象类型，用于设置 tooltip 的辅助线或者辅助框。</p>
<p>默认我们为 geom 为 ‘line’, ‘area’, ‘path’, ‘areaStack’ 开启了垂直辅助线；geom 为‘interval’ 默认会展示矩形背景框。如下图所示：</p>
<p><img src="https://gw.alipayobjects.com/zos/rmsportal/rCwHiXNfIVepGgMWKqdf.png" style="width: 100%;max-width:600px;"></p>
<p>该属性可支持的配置如下：
<div class="codehilite"><pre>//可配置值
//geom为 &#39;line&#39;, &#39;area&#39;, &#39;path&#39;, &#39;areaStack 时默认会展示垂直辅助线
//geom为 &#39;interval&#39; 默认会展示矩形背景框
&lt;Tooltip crosshairs={{
  //rect: 矩形框,x: 水平辅助线,y: 垂直辅助线,cross: 十字辅助线。
  type: &#39;rect&#39; || &#39;x&#39; || &#39;y&#39; || &#39;cross&#39;,
  style: {
    lineWidth:2,
      stroke:&quot;#ff0000&quot;,
  }
}}/&gt; 
</pre></div></p>
<h2 id="tooltipoffset-number">ToolTip.offset   * Number *<a class="headerlink" href="#tooltipoffset-number" title="Permanent link"></a></h2>
<p>设置 tooltip 距离鼠标的偏移量。</p>
<h2 id="tooltipcontainertpl-string">ToolTip.containerTpl     * String *<a class="headerlink" href="#tooltipcontainertpl-string" title="Permanent link"></a></h2>
<p>tooltip 默认的容器模板，默认值如下：
<div class="codehilite"><pre><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-tooltip&quot;</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- tooltip 标题 --&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-tooltip-title&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin:10px 0;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- tooltip 内容列表容器 --&gt;</span>
  <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-tooltip-list&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div></p>
<blockquote>
<p>如默认结构不满足需求，可以自定义该模板，但是<strong>自定义模板时必须包含各个 dom 节点的 class</strong>，样式可以自定义。</p>
</blockquote>
<h2 id="tooltipitemtpl-string">ToolTip.itemTpl  <em>String</em><a class="headerlink" href="#tooltipitemtpl-string" title="Permanent link"></a></h2>
<p>tooltip 每项记录的模版，这个属性可以格式化 tooltip 的显示内容。
默认值:
<div class="codehilite"><pre>&lt;li data-index={index}&gt;
  &lt;!-- 每项记录的 marker --&gt;
  &lt;span style=&quot;background-color:{color};width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;&quot;&gt;&lt;/span&gt;
  {name}: {value}
&lt;/li&gt;
</pre></div></p>
<blockquote>
<p>如默认结构不满足需求，可以自定义该模板，但是<strong>自定义模板时必须包含各个 dom 节点的 class</strong>，样式可以自定义。</p>
</blockquote>
<h2 id="tooltip-g2-tooltip-g2-tooltip-title-g2-tooltip-list-g2-tooltip-list-item-g2-tooltip-marker-object">ToolTip. g2-tooltip | g2-tooltip-title | g2-tooltip-list | g2-tooltip-list-item | g2-tooltip-marker  <em>Object</em><a class="headerlink" href="#tooltip-g2-tooltip-g2-tooltip-title-g2-tooltip-list-g2-tooltip-list-item-g2-tooltip-marker-object" title="Permanent link"></a></h2>
<p>可以设置以上属性来自定义tooltip的样式
<div class="codehilite"><pre>    &lt;Tooltip 
      containerTpl=&#39;&lt;div class=&quot;g2-tooltip&quot;&gt;&lt;p class=&quot;g2-tooltip-title&quot;&gt;&lt;/p&gt;&lt;table class=&quot;g2-tooltip-list&quot;&gt;&lt;/table&gt;&lt;/div&gt;&#39;
      itemTpl=&#39;&lt;tr class=&quot;g2-tooltip-list-item&quot;&gt;&lt;td style=&quot;color:{color}&quot;&gt;{name}&lt;/td&gt;&lt;td&gt;{value}&lt;/td&gt;&lt;/tr&gt;&#39;
      offset={50}
      g2-tooltip={{
        position: &#39;absolute&#39;,
        visibility: &#39;hidden&#39;,
        border : &#39;1px solid #efefef&#39;,
        backgroundColor: &#39;white&#39;,
        color: &#39;#000&#39;,
        opacity: &quot;0.8&quot;,
        padding: &#39;5px 15px&#39;,
        &#39;transition&#39;: &#39;top 200ms,left 200ms&#39;
      }}  
      g2-tooltip-list={{
        margin: &#39;10px&#39;
      }}
    /&gt;
</pre></div>
预知详情如何，请<a href="https://alibaba.github.io/BizCharts/demo-detail.html?code=demo/other/cutomize-tooltip">点击这里</a></p>
<h2 id="tooltipinplot-boolean">ToolTip.inPlot   * Boolean *<a class="headerlink" href="#tooltipinplot-boolean" title="Permanent link"></a></h2>
<p>设置是否将 tooltip 限定在绘图区域内，默认为 true，即限定在绘图区域内。</p>
<h2 id="tooltipfollow-boolean">ToolTip.follow   * Boolean *<a class="headerlink" href="#tooltipfollow-boolean" title="Permanent link"></a></h2>
<p>设置 tooltip 是否跟随鼠标移动。默认为 true，即跟随。</p>
<h2 id="tooltipshared-boolean">ToolTip.shared   * Boolean *<a class="headerlink" href="#tooltipshared-boolean" title="Permanent link"></a></h2>
<p>是否展示多条 tooltip。
默认值:true，false 表示只展示单条 tooltip。</p>
<h2 id="tooltipposition-topbottomleftright">ToolTip.position     * &lsquo;top&rsquo;|&rsquo;bottom&rsquo;|&rsquo;left&rsquo;|&rsquo;right&rsquo; *<a class="headerlink" href="#tooltipposition-topbottomleftright" title="Permanent link"></a></h2>
<p>该属性设置之后，就会在固定位置展示 tooltip，可设置的值为：<code>left</code>、<code>right</code>、<code>top</code>、<code>bottom</code>。</p>
<h2 id="tooltiptriggeron-stringmousemoveclicknone">ToolTip.triggerOn * String:[&lsquo;mousemove&rsquo;|&rsquo;click&rsquo;|&rsquo;none&rsquo;] *<a class="headerlink" href="#tooltiptriggeron-stringmousemoveclicknone" title="Permanent link"></a></h2>
<p>tooltip 的触发方式，可配置的值为：&rsquo;mousemove&rsquo;、&rsquo;click&rsquo;、&rsquo;none&rsquo;，默认为 <code>mousemove</code>。 </p>
<ul>
<li>&lsquo;mousemove&rsquo;: 鼠标移动触发；</li>
<li>&lsquo;click&rsquo;: 鼠标点击出发；</li>
<li>&lsquo;none&rsquo;: 不触发 tooltip，用户通过 <code>chart.showTooltip()</code> 和 <code>chart.hideTooltip()</code> 来控制 tooltip 的显示和隐藏。</li>
</ul>
<h2 id="tooltiptitle-string">ToolTip.title * string *<a class="headerlink" href="#tooltiptitle-string" title="Permanent link"></a></h2>
<p>设置 tooltip 的标题展示的数据字段，设置该字段后，该标题即会展示该字段对应的数值。<code>showTitle</code> 为 false 时，该设置不生效。</p>
<h2 id="tooltipenterable-boolean">ToolTip.enterable * boolean *<a class="headerlink" href="#tooltipenterable-boolean" title="Permanent link"></a></h2>
<p>用于控制是否允许鼠标进入 tooltip，默认为 false，即不允许进入。</p>
<h2 id="_4">其他配置<a class="headerlink" href="#_4" title="Permanent link"></a></h2>
<h3 id="tooltip_1">格式化 tooltip 显示内容<a class="headerlink" href="#tooltip_1" title="Permanent link"></a></h3>
<p>1、通过 <code>&lt;Geom /&gt;</code> 上的 <em>tooltip</em> 属性的回调函数来配置。</p>
<p>示例代码:
<div class="codehilite"><pre>&lt;Chart&gt;
  &lt;Geom
    tooltip={[&#39;time*sold&#39;, (time, sold) =&gt; {
      return {
        //自定义 tooltip 上显示的 title 显示内容等。
        name: &#39;sold&#39;,
        title: &#39;dddd&#39; + time,
        value: sold
      };
    }]}
  /&gt;
&lt;/Chart&gt;
</pre></div></p>
<p>2、通过 <code>&lt;Tooltip /&gt;</code> 上的 itemTpl 来格式化显示内容，详见<a href="#itemTpl">itemTpl属性说明</a>。</p>
<p>3、特别复杂的场景可以通过 <code>&lt;Chart&gt;</code> 上的 onTooltipChange  事件来格式化 <code>&lt;Tooltip /&gt;</code> 显示内容;详见 <a href="chart.md#onTooltipChange">onTooltipChange</a></p>
<h3 id="tooltip_2">固定位置显示 tooltip<a class="headerlink" href="#tooltip_2" title="Permanent link"></a></h3>
<p>可以通过<code>&lt;Chart /&gt;</code>组件上的 showTooltip 属性来控制在固定的位置显示提示信息，详见<a href="chart.md#showTooltip">chart showTooltip 属性说明</a>。</p>
<h1 id="_5">示例<a class="headerlink" href="#_5" title="Permanent link"></a></h1>
<h2 id="_6">样式配置<a class="headerlink" href="#_6" title="Permanent link"></a></h2>
<div class="codehilite"><pre>// 略...
import { Chart, Geom, Axis, Tooltip } from &#39;bizcharts&#39;;

const data = [{ genre: &#39;Sports&#39;, sold: 275 } /* 略... */];
const cols = {sold: { alias: &#39;销售量&#39; }, genre: { alias: &#39;游戏种类&#39; }};

ReactDOM.render((
  <span class="p">&lt;</span><span class="nt">Chart</span> <span class="na">width</span><span class="o">=</span><span class="s">{600}</span> <span class="na">height</span><span class="o">=</span><span class="s">{400}</span> <span class="na">data</span><span class="o">=</span><span class="s">{data}</span> <span class="na">cols</span><span class="o">=</span><span class="s">{cols}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;sold&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;genre&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tooltip</span> <span class="na">title</span><span class="o">=</span><span class="s">{null}</span> <span class="na">crossLine</span><span class="o">=</span><span class="s">{{</span> <span class="na">stroke:</span> <span class="err">&#39;#</span><span class="na">f00</span><span class="err">&#39;</span> <span class="err">}}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Geom</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;line&quot;</span> <span class="na">position</span><span class="o">=</span><span class="s">&quot;genre*sold&quot;</span> <span class="na">shape</span><span class="o">=</span><span class="s">&quot;smooth&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Chart</span><span class="p">&gt;</span>
), document.getElementById(&#39;mountNode&#39;));
</pre></div>

<h2 id="_7">自定义<a class="headerlink" href="#_7" title="Permanent link"></a></h2>
<div class="codehilite"><pre>// 略...
import { Chart, Geom, Axis, Tooltip } from &#39;bizcharts&#39;;

const data = [{ genre: &#39;Sports&#39;, sold: 275 } /* 略... */];
const tooltipCfg = {
  custom: true,
  containerTpl: &#39;<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ac-tooltip&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position:absolute;visibility: hidden;background: rgba(255, 44, 52, 0.5);color: #fff;border-radius: 50%;padding: 10px 20px;text-align: center;&quot;</span><span class="p">&gt;&lt;</span><span class="nt">h4</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ac-title&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin: 0;padding: 5px 0;border-bottom: 1px solid #fff;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">h4</span><span class="p">&gt;&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ac-list custom-table&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;padding: 5px 0;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">table</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>&#39;,
  itemTpl: &#39;<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">td</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;display:none&quot;</span><span class="p">&gt;</span>{index}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:{color}&quot;</span><span class="p">&gt;</span>{name}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{value}k<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>&#39;
};

ReactDOM.render((
  <span class="p">&lt;</span><span class="nt">Chart</span> <span class="na">width</span><span class="o">=</span><span class="s">{600}</span> <span class="na">height</span><span class="o">=</span><span class="s">{400}</span> <span class="na">data</span><span class="o">=</span><span class="s">{data}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;genre&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;sold&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tooltip</span> <span class="err">{...</span><span class="na">tooltipCfg</span><span class="err">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Geom</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;line&quot;</span> <span class="na">position</span><span class="o">=</span><span class="s">&quot;genre*sold&quot;</span> <span class="na">shape</span><span class="o">=</span><span class="s">&quot;smooth&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Chart</span><span class="p">&gt;</span>
), document.getElementById(&#39;mountNode&#39;));
</pre></div>

<h1 id="legend_1">Legend<a class="headerlink" href="#legend_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/legend">Legend</a></p>
<blockquote>
<p>图例（legend）是图表的辅助元素，使用颜色、大小、形状区分不同的数据类型，用于图表中数据的筛选。G2 会根据设置图形属性映射以及数据的类型自动生成不同的图例。
shape, color, size 只有当 <code>&lt;Geom /&gt;</code> 组件上有这三个属性中任意一个时，并且将 <code>&lt;Legend&gt;</code> 组件的 name 属性跟这个属性的字段关联上，才会显示图例；</p>
</blockquote>
<ul>
<li>shape 属性，会根据不同的 shape 类型生成图例；</li>
<li>color 属性, 会赋予不同的图例项不同的颜色来区分图形；</li>
<li>size 属性, 在图例上显示图形的大小。</li>
</ul>
<!-- ![image | center](https://zos.alipayobjects.com/skylark/9f146402-1e62-4029-b3b8-3d32029af1d6/attach/2378/eb826d75a0bb34cb/image.png "") -->

<p>使用说明</p>
<ul>
<li>
<p><code>&lt;Legend /&gt;</code> 组件只可以作为 <a href="#chart"><code>&lt;Chart /&gt;</code></a> 的子组件，同时<code>&lt;Legend /&gt;</code>组件下不能嵌套其他组件。</p>
</li>
<li>
<p>当且仅当配置了<code>&lt;Legend /&gt;</code>，图表才会展示图例。</p>
</li>
</ul>
<div class="codehilite"><pre>// Basic Usage
&lt;Chart width={600} height={400} data={data}&gt;
  &lt;Legend /&gt;
  &lt;Geom type=&quot;bar&quot; position=&quot;genre*sold&quot; color=&quot;genre&quot; /&gt;
&lt;/Chart&gt;
</pre></div>

<ul>
<li>使用 <code>&lt;Legend/&gt;</code> 组件时，可以指定当前图例对应数据源中的字段名（字段名为name），不指定则默认设置所有图例；</li>
</ul>
<div class="codehilite"><pre>// 指定图例对应数据源中的字段名
&lt;Chart width={600} height={400} data={data}&gt;
    // Geom 组件上必须有 `shape, color, size `中某个属性值为 genre 字段，才会有图例出现。
    &lt;Legend name=&quot;genre&quot; position=&quot;right&quot; title={null} dx={20} /&gt;
    &lt;Geom type=&quot;bar&quot; position=&quot;genre*sold&quot; color=&quot;genre&quot; /&gt;
&lt;/Chart&gt;

// 不指定图例对应数据源中的字段名，则默认设置所有图例
&lt;Chart width={600} height={400} data={data}&gt;
    &lt;Legend position=&quot;right&quot; title={null} dx={20} /&gt;
    // Geom 组件上必须有 `shape, color, size `中某个属性值为 genre 字段，才会有图例出现。
    &lt;Geom type=&quot;bar&quot; position=&quot;genre*sold&quot; color=&quot;genre&quot; /&gt;
&lt;/Chart&gt;
</pre></div>

<ul>
<li>一旦使用 <code>&lt;Legend/&gt;</code> 组件，那么所有的图例都会显示，如若需要隐藏某一个图例，务必将 visible 参数并置为 false，如下所示：</li>
</ul>
<div class="codehilite"><pre><span class="p">&lt;</span><span class="nt">Chart</span> <span class="na">width</span><span class="o">=</span><span class="s">{600}</span> <span class="na">height</span><span class="o">=</span><span class="s">{400}</span> <span class="na">data</span><span class="o">=</span><span class="s">{data}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Legend</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;genre&quot;</span> <span class="na">visible</span><span class="o">=</span><span class="s">{false}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Geom</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;bar&quot;</span> <span class="na">position</span><span class="o">=</span><span class="s">&quot;genre*sold&quot;</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;genre&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">Chart</span><span class="p">&gt;</span>
</pre></div>

<p>分类类型和连续类型的配置有一定的区别，下面列出了这两种类型支持的可配置的属性：</p>
<h3 id="1name-string">1、name      <em>String</em><a class="headerlink" href="#1name-string" title="Permanent link"></a></h3>
<p>图例的对应到数据源中的数据字段名，不传则默认设置所有图例。</p>
<h3 id="2visible-boolean">2、visible       <em>Boolean</em><a class="headerlink" href="#2visible-boolean" title="Permanent link"></a></h3>
<p>该图例是否可见。
默认值:true。</p>
<h3 id="3position-topleftrightbottom">3、position      <em>‘top’|‘left’|‘right’|‘bottom’</em><a class="headerlink" href="#3position-topleftrightbottom" title="Permanent link"></a></h3>
<p>设置图例的显示位置，可设置的值为：top、right、bottom、left，分别表示上、右、下、左。默认为 bottom。</p>
<h3 id="4title-boolean">4、title     <em>Boolean</em><a class="headerlink" href="#4title-boolean" title="Permanent link"></a></h3>
<p>图例标题的显示样式设置，如果值为 null，表示不展示图例标题，默认不展示。
<div class="codehilite"><pre>&lt;Chart width={600} height={400} data={data}&gt;
  &lt;Legend name=&quot;genre&quot; title={{
      textAlign: &#39;center&#39;, // 文本对齐方向，可取值为： start middle end
      fill: &#39;#404040&#39;, // 文本的颜色
      fontSize: &#39;12&#39;, // 文本大小
      fontWeight: &#39;bold&#39;, // 文本粗细
      rotate: 30, // 文本旋转角度，以角度为单位，仅当 autoRotate 为 false 时生效
      textBaseline: &#39;top&#39; // 文本基准线，可取 top middle bottom，默认为middle
  }} /&gt;
    &lt;Geom type=&quot;bar&quot; position=&quot;genre*sold&quot; color=&quot;genre&quot; /&gt;
&lt;/Chart&gt;
</pre></div></p>
<h3 id="5offsetx-number">5、offsetX       <em>Number</em><a class="headerlink" href="#5offsetx-number" title="Permanent link"></a></h3>
<p>图例 x 方向的偏移值，数值类型，数值单位为 &lsquo;px&rsquo;，默认值为 0。</p>
<h3 id="6offsety-number">6、offsetY   <em>Number</em><a class="headerlink" href="#6offsety-number" title="Permanent link"></a></h3>
<p>图例 Y 方向的偏移值，数值类型，数值单位为 &lsquo;px&rsquo;，默认值为 0。</p>
<h3 id="7itemgap-number">7、itemGap   <em>Number</em><a class="headerlink" href="#7itemgap-number" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，表示图例每项之间的间距，如果是水平排布则为左右间距，如果是竖直排布则为上下间距。</p>
<h3 id="8itemmarginbottom-number">8、itemMarginBottom  <em>Number</em><a class="headerlink" href="#8itemmarginbottom-number" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，表示各个图例项垂直方向的间距。</p>
<h3 id="9itemwidth-number">9、itemWidth     <em>Number</em><a class="headerlink" href="#9itemwidth-number" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，设置图例项的宽度，当图例有很多图例项，并且用户想要这些图例项能垂直对齐时，此时这个属性可帮用户实现此效果。</p>
<h3 id="10unchecked-number">10、unChecked    <em>Number</em><a class="headerlink" href="#10unchecked-number" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，用于取消选中的图例文本颜色。</p>
<h3 id="11background-number">11、background   <em>Number</em><a class="headerlink" href="#11background-number" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，用于设置图例的背景样式。
<div class="codehilite"><pre>&lt;Legend name=&quot;genre&quot; background={{
  fill:&quot;#ff0000&quot;,
  fillOpacity:0.5,
}} /&gt;
</pre></div></p>
<h3 id="12allowallcanceled-boolean">12、allowAllCanceled     <em>Boolean</em><a class="headerlink" href="#12allowallcanceled-boolean" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，表示是否允许所有图例项被取消选中，默认为 false，即必须保留一个被选中的图例项。</p>
<h3 id="13itemformatter-function">13、itemFormatter    <em>Function</em><a class="headerlink" href="#13itemformatter-function" title="Permanent link"></a></h3>
<p>回调函数，用于格式化图例每项的文本显示。</p>
<h3 id="14marker-string">14、marker   <em>String</em><a class="headerlink" href="#14marker-string" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，用于设置图例的 marker 样式，默认按照 geom 的类型显示。
可选项如下:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>shape</th>
</tr>
</thead>
<tbody>
<tr>
<td>circle</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/circle.png" /></td>
</tr>
<tr>
<td>square</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/square.png" /></td>
</tr>
<tr>
<td>bowtie</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/bowtie.png" /></td>
</tr>
<tr>
<td>diamond</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/diamond.png" /></td>
</tr>
<tr>
<td>hexagon</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hexagon.png" /></td>
</tr>
<tr>
<td>triangle</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/triangle.png" /></td>
</tr>
<tr>
<td>triangle-down</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/triangle-down.png" /></td>
</tr>
<tr>
<td>tick</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/tick.png" /></td>
</tr>
<tr>
<td>plus</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/plus.png" /></td>
</tr>
<tr>
<td>hyphen</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hyphen.png" /></td>
</tr>
<tr>
<td>line</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/line.png" /></td>
</tr>
<tr>
<td>hollowCircle</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowCircle.png" /></td>
</tr>
<tr>
<td>hollowSquare</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowSquare.png" /></td>
</tr>
<tr>
<td>hollowBowtie</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowBowtie.png" /></td>
</tr>
<tr>
<td>hollowDiamond</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowDiamond.png" /></td>
</tr>
<tr>
<td>hollowHexagon</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowHexagon.png" /></td>
</tr>
<tr>
<td>hollowTriangle</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowTriangle.png" /></td>
</tr>
<tr>
<td>hollowTriangle-down</td>
<td><img alt="" src="https://antv.alipay.com/assets/image/g2/tutorial/hollowTriangle-down.png" /></td>
</tr>
</tbody>
</table>
<h3 id="15textstyle-object">15、textStyle    <em>Object</em><a class="headerlink" href="#15textstyle-object" title="Permanent link"></a></h3>
<p>图例的背景样式配置。参考<a href="./graphic.md">绘图属性</a>Text的样式
<div class="codehilite"><pre>&lt;Legend name=&quot;genre&quot; textStyle={{
  textAlign: &#39;center&#39;, // 文本对齐方向，可取值为： start middle end
  fill: &#39;#404040&#39;, // 文本的颜色
  fontSize: &#39;12&#39;, // 文本大小
  fontWeight: &#39;bold&#39;, // 文本粗细
  rotate: 30, // 文本旋转角度，以角度为单位，仅当 autoRotate 为 false 时生效
  textBaseline: &#39;top&#39; // 文本基准线，可取 top middle bottom，默认为middle
}} /&gt;
</pre></div></p>
<h3 id="16clickable-boolean">16、clickable    <em>Boolean</em><a class="headerlink" href="#16clickable-boolean" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，设置图例项是否允许点击，默认为 true，即允许点击。</p>
<h3 id="17hoverable-boolean">17、hoverable <em>Boolean</em><a class="headerlink" href="#17hoverable-boolean" title="Permanent link"></a></h3>
<p>对分类类型的图例生效，设置是否开启鼠标 hover 至图例的交互效果，默认为 true，即开启动画。</p>
<h3 id="18selectedmode-single-multiple">18、selectedMode     <em>&lsquo;single&rsquo; | &lsquo;multiple&rsquo;</em><a class="headerlink" href="#18selectedmode-single-multiple" title="Permanent link"></a></h3>
<p>针对分类类型图例，当 clickable 为 true 时该配置项生效，用于设置图例的选中交互模式，可配置的属性:
- selectedMode: &lsquo;single&rsquo;：表示开启单选模式；
- selectedMode: &lsquo;multiple&rsquo;：表示开启多选模式，默认为 multiple。</p>
<h3 id="19onhover-function">19、onHover  <em>Function</em><a class="headerlink" href="#19onhover-function" title="Permanent link"></a></h3>
<p>针对分类类型的图例，用于自定义鼠标 hover 图例项的交互，当 hoverable 为 false 不生效。</p>
<h3 id="20onclick-function">20、onClick  <em>Function</em><a class="headerlink" href="#20onclick-function" title="Permanent link"></a></h3>
<p>针对分类类型的图例，用于自定义鼠标点击图例项的交互，当 clickable 为 false 不生效。</p>
<h2 id="html">分类 html 自定义图例<a class="headerlink" href="#html" title="Permanent link"></a></h2>
<p>分类 html 自定义图例大部分属性跟分类图例是一样的，需要额外设置以下属性。</p>
<h3 id="1usehtml-boolean-function">1、useHtml <em>Boolean | Function</em><a class="headerlink" href="#1usehtml-boolean-function" title="Permanent link"></a></h3>
<p>针对分类类型图例，用于开启是否使用 html 渲染图例，默认为 false，true 表示使用 html 渲染图例。</p>
<h3 id="2container-string">2、container <em>String</em><a class="headerlink" href="#2container-string" title="Permanent link"></a></h3>
<p>当 useHtml 为 true 时生效，用于指定生成图例的 dom 容器，那么该值必须为 dom 容器的 id 值为分类类型的话，则支持传入索引值。</p>
<h3 id="3containertpl-string">3、containerTpl <em>String</em><a class="headerlink" href="#3containertpl-string" title="Permanent link"></a></h3>
<p>当 useHtml 为 true 时生效，用于指定图例容器的模板，默认值如下：
<div class="codehilite"><pre><span class="c">&lt;!-- 图例最外层容器 --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;position:absolute;top:20px;right:60px;width:auto;&quot;</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- 图例标题 --&gt;</span>
  <span class="p">&lt;</span><span class="nt">h4</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend-title&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- 图例项列表容器 --&gt;</span>
  <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend-item-list&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;list-style-type:none;margin:0;padding:0;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div></p>
<h3 id="4itemtpl-string-function">4、itemTpl <em>String | Function</em><a class="headerlink" href="#4itemtpl-string-function" title="Permanent link"></a></h3>
<p>当 useHtml 为 true 时生效，用于指定生成图例的图例项 html 模板，默认值如下：
<div class="codehilite"><pre><span class="c">&lt;!-- 图例最外层容器 --&gt;</span>
<span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend-item item-{index} {checked}&quot;</span> <span class="na">data-color</span><span class="o">=</span><span class="s">&quot;{originColor}&quot;</span> <span class="na">data-value</span><span class="o">=</span><span class="s">&quot;{originValue}&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;cursor: pointer;font-size: 14px;&quot;</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- marker --&gt;</span>
  <span class="p">&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend-marker&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:10px;background-color: {color};&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- 图例项文本 --&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;g2-legend-text&quot;</span><span class="p">&gt;</span>{value}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</pre></div></p>
<blockquote>
<p>!注意：自定义模板时必须包含各个 dom 节点的 class，样式可以自定义。</p>
</blockquote>
<h3 id="5g2-legend-g2-legend-item-g2-legend-list-item-g2-legend-marker-g2-legend-text-object">5、g2-legend | g2-legend-item | g2-legend-list-item | g2-legend-marker | g2-legend-text |  <em>Object</em><a class="headerlink" href="#5g2-legend-g2-legend-item-g2-legend-list-item-g2-legend-marker-g2-legend-text-object" title="Permanent link"></a></h3>
<p>当用户使用html时，可以通过向<Legend /> 组件传递 html原生支持的的class名来修改模板样式；
<div class="codehilite"><pre>&lt;Legend position=&#39;bottom&#39;
  useHtml={true}
  g2-legend = {{
    marginLeft: &#39;100px&#39;,
    marginTop: &#39;-107px&#39;
  }}
  g2-legend-list={{
    border: &#39;none&#39;
  }}
/&gt;
</pre></div>
demo详情，请<a href="https://alibaba.github.io/BizCharts/demo-detail.html?code=demo/other/cutomize-legend">点击这里</a></p>
<h3 id="6scroll-boolean">6、scroll <em>Boolean</em><a class="headerlink" href="#6scroll-boolean" title="Permanent link"></a></h3>
<p>当用户使用 html 的时候，超出高度或者宽度会自动换行。</p>
<h2 id="_8">连续图例<a class="headerlink" href="#_8" title="Permanent link"></a></h2>
<p>连续图例部分属性跟分类图例是一样的(name, position, offsetX, offsetY, title)，需要额外设置以下属性。</p>
<h3 id="1slidable-boolean">1、slidable  <em>Boolean</em><a class="headerlink" href="#1slidable-boolean" title="Permanent link"></a></h3>
<p>针对连续图例，用于设置连续图例是否允许滑动，默认为 true，即开启滑动操作。</p>
<h3 id="2width-number">2、width     <em>Number</em><a class="headerlink" href="#2width-number" title="Permanent link"></a></h3>
<p>针对连续图例，用于设置图例的宽度。</p>
<h3 id="2height-number">2、height <em>Number</em><a class="headerlink" href="#2height-number" title="Permanent link"></a></h3>
<p>针对连续图例，用于设置图例的高度。</p>
<h2 id="_9">自定义混合图例<a class="headerlink" href="#_9" title="Permanent link"></a></h2>
<p>自定义图例大部分属性跟普通图例一样，需要额外配置的属性有。</p>
<h3 id="1custom-boolean">1、custom    <em>Boolean</em><a class="headerlink" href="#1custom-boolean" title="Permanent link"></a></h3>
<p>默认为 false，当 custom 为 true，表示不使用默认生成的图例，允许用户自定义图例，包括具体的图例项以及 click、hover 交互。</p>
<p>自定义图例时需要用户自己声明具体的图例项 items(该属性是一个对象数组，数组中每一项为一个对象类型，结构为： { value: &lsquo;&rsquo;, marker:{fill: &lsquo;red&rsquo;}})以及图例项的 hover 和 click 事件。</p>
<h3 id="2items-object">2、items     <em>Object</em><a class="headerlink" href="#2items-object" title="Permanent link"></a></h3>
<p>自定义图例的配置。需要用户自己声明具体的图例项（每个图例项结构为 { value: &lsquo;&rsquo;, fill: &lsquo;&rsquo;, marker: &lsquo;&rsquo; }）以及图例项的 hover 和 click 事件。</p>
<div class="codehilite"><pre>&lt;Legend
  custom={true},
  items={[
    { value: &#39;waiting&#39;, fill: &#39;#3182bd&#39;, marker: &#39;shape&#39; },
    { value: &#39;call&#39;, fill: &#39;#99d8c9&#39;, marker: &#39;shape&#39; },
    { value: &#39;people&#39;, fill: &#39;#fdae6b&#39;, marker: &#39;shape&#39; },
  ]}
  onHover={ev =&gt; {}} // 自定义 hover 事件
  onClick={ev =&gt; {}} // 自定义 click 事件
/&gt;
</pre></div>

<h2 id="_10"><a href="https://alibaba.github.io/BizCharts/demo-detail.html?code=demo/other/double-axes">示例</a><a class="headerlink" href="#_10" title="Permanent link"></a></h2>
<p><div class="codehilite"><pre>// 略...
<span class="p">&lt;</span><span class="nt">Chart</span> <span class="na">height</span><span class="o">=</span><span class="s">{400}</span> <span class="na">data</span><span class="o">=</span><span class="s">{dv}</span> <span class="na">scale</span><span class="o">=</span><span class="s">{cols}</span> <span class="na">forceFit</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;month&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">Axis</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;temperature&quot;</span> <span class="na">label</span><span class="o">=</span><span class="s">{{formatter:</span> <span class="na">val </span><span class="o">=</span><span class="err">&gt; </span><span class="s">`${val}°C`}}/</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Legend</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">Tooltip</span> <span class="na">crosshairs</span><span class="o">=</span><span class="s">{{type</span> <span class="na">:</span> <span class="err">&quot;</span><span class="na">y</span><span class="err">&quot;}}</span><span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">Geom</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;line&quot;</span> <span class="na">position</span><span class="o">=</span><span class="s">&quot;month*temperature&quot;</span> <span class="na">size</span><span class="o">=</span><span class="s">{2}</span> <span class="na">color</span><span class="o">=</span><span class="s">{&#39;city&#39;}</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">Geom</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;point&#39;</span> <span class="na">position</span><span class="o">=</span><span class="s">&quot;month*temperature&quot;</span> <span class="na">size</span><span class="o">=</span><span class="s">{4}</span> <span class="na">shape</span><span class="o">=</span><span class="s">{&#39;circle&#39;}</span> <span class="na">color</span><span class="o">=</span><span class="s">{&#39;city&#39;}</span> <span class="na">style</span><span class="o">=</span><span class="s">{{</span> <span class="na">stroke:</span> <span class="err">&#39;#</span><span class="na">fff</span><span class="err">&#39;,</span> <span class="na">lineWidth:</span> <span class="na">1</span><span class="err">}}</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">Chart</span><span class="p">&gt;</span>
</pre></div>
<!-- <img alt="image | left " src="https://img.alicdn.com/tfs/TB1..5Ma8fH8KJjy1XbXXbLdXXa-1600-856.png" /> --></p>
<h1 id="guide_1">Guide<a class="headerlink" href="#guide_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/guide">Guide</a></p>
<h1 id="facet_1">Facet<a class="headerlink" href="#facet_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/facet">Facet</a></p>
<p>分面组件，将一份数据按照某个维度分隔成若干子集，然后创建一个图表的矩阵，将每一个数据子集绘制到图形矩阵的窗格中，所有子图采用相同的图表类型，并进行了一定的设计，使得它们之间方便进行比较。</p>
<p>总结起来，分面其实提供了两个功能：
- 按照指定的维度划分数据集；
- 对图表进行排版。</p>
<p>对于探索型数据分析来说，分面是一个强大有力的工具，能帮你迅速地分析对比出数据各个子集模式的异同。</p>
<p><img alt="e68863a6-f139-444f-a800-75613046dcc4.png" src="https://gw.alipayobjects.com/zos/rmsportal/HlUJdjfYCEeeOKsBREnp.png" /></p>
<p>父组件
<a href="./chart.md"><code>&lt;Chart /&gt;</code></a> </p>
<p>子组件
- 3.1.x 版本开始<em>不支持</em> <code>&lt;Facet /&gt;</code>组件下嵌套函数。
正式版将会支持如下写法(3.1.0-beta.1暂不支持)：
<div class="codehilite"><pre>&lt;Facet&gt;
  &lt;View&gt;
    &lt;Geom /&gt;
  &lt;/View&gt;
&lt;/Facet&gt;
</pre></div>
- 3.0.x 版本允许 <code>&lt;Facet /&gt;</code> 组件下嵌套一个返回组件的匿名函数。参见如下
<div class="codehilite"><pre>&lt;Facet type=&#39;matrix&#39; fields = {[&#39;cut&#39;,&#39;clarity&#39;]}&gt;
  //该匿名函数会转为 `eachView:function`
  {(view, facet)=&gt;{
    if(facet.colIndex == 0){
      return
      &lt;View data={facet.data}&gt;
        &lt;Axis visible={false} name=&#39;carat&#39; /&gt;
        &lt;Axis  name=&#39;price&#39; /&gt;
        &lt;Geom type=&quot;point&quot; position=&#39;carat*price&#39; color=&#39;cut&#39; /&gt;
      &lt;/View&gt;;
    } else
    {
    return
      &lt;View data={facet.data}&gt;
        &lt;Geom type=&quot;point&quot; position=&#39;carat*price&#39; color=&#39;cut&#39; /&gt;
      &lt;/View&gt;;
    }
  }}
&lt;/Facet&gt;
</pre></div></p>
<p>API</p>
<blockquote>
<p>以下是 <code>&lt;Facet/&gt;</code> 组件的通用属性，不同的类型可配置的属性有略微差别，具体见各个类型的分面说明。</p>
</blockquote>
<h3 id="1type-rect-list-circle-tree-mirror">1、type  * &lsquo;rect&rsquo; | &lsquo;list&rsquo; | &lsquo;circle&rsquo; | &lsquo;tree&rsquo; | &lsquo;mirror&rsquo; *<a class="headerlink" href="#1type-rect-list-circle-tree-mirror" title="Permanent link"></a></h3>
<p>分面类型。</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">链接</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">rect</td>
<td align="left">默认类型，指定 2 个维度作为行列，形成图表的矩阵。</td>
<td align="left"><a href="#rect">参见rect</a></td>
</tr>
<tr>
<td align="left">list</td>
<td align="left">指定一个维度，可以指定一行有几列，超出自动换行。</td>
<td align="left"><a href="#list">参见list</a></td>
</tr>
<tr>
<td align="left">circle</td>
<td align="left">指定一个维度，沿着圆分布。</td>
<td align="left"><a href="#circle">参见circle</a></td>
</tr>
<tr>
<td align="left">tree</td>
<td align="left">指定多个维度，每个维度作为树的一级，展开多层图表。</td>
<td align="left"><a href="#tree">参见tree</a></td>
</tr>
<tr>
<td align="left">mirror</td>
<td align="left">指定一个维度，形成镜像图表。</td>
<td align="left"><a href="#mirror">参见mirror</a></td>
</tr>
<tr>
<td align="left">matrix</td>
<td align="left">指定 2 个维度，形成矩阵分面图表。</td>
<td align="left"><a href="#matrix">参见matrix</a></td>
</tr>
</tbody>
</table>
<h3 id="2fields-string-array">2、fields    * String | Array *<a class="headerlink" href="#2fields-string-array" title="Permanent link"></a></h3>
<p>设定数据划分的维度，是数据的字段名，包含多个维度时使用数组传入。不同 <code>type</code> 的分面可传入字段个数不同，详见<a href="#facetType">分面类型说明</a>。</p>
<h3 id="3padding-number">3、padding   * Number *<a class="headerlink" href="#3padding-number" title="Permanent link"></a></h3>
<p>设置每个 view 之间的间距。<code>padding</code> 是view 的内部边距，所以不会影响布局。</p>
<h3 id="4showtitle-boolean">4、showTitle     * Boolean *<a class="headerlink" href="#4showtitle-boolean" title="Permanent link"></a></h3>
<p>是否显示分面的标题，默认为 true，即展示。</p>
<h3 id="5autosetaxis-boolean">5、autoSetAxis   * Boolean *<a class="headerlink" href="#5autosetaxis-boolean" title="Permanent link"></a></h3>
<p>是否自动设置坐标轴的文本，避免重复和遮挡，默认为 true，即自动设置。</p>
<h3 id="6coltitle-object-null">6、colTitle  * Object | null *<a class="headerlink" href="#6coltitle-object-null" title="Permanent link"></a></h3>
<p>分面列标题设置，可设置属性如下，如果属性值为 null，表示不展示列标题。
<div class="codehilite"><pre>&lt;Facet
  rowTitle={{
    offsetY: -15,
    style: {
    fontSize: 14,
    textAlign: &#39;center&#39;,
    fill: &#39;#444&#39;
  }}
/&gt;
</pre></div></p>
<h3 id="7rowtitle-object-null">7、rowTitle  * Object | null *<a class="headerlink" href="#7rowtitle-object-null" title="Permanent link"></a></h3>
<p>分面行标题设置，可设置属性如下，如果属性值为 null，表示不展示列标题
<div class="codehilite"><pre>&lt;Facet
  rowTitle={{
    offsetX: -15,
    style: {
    fontSize: 14,
    textAlign: &#39;center&#39;,
    fill: &#39;#444&#39;
  }}
/&gt;
</pre></div></p>
<h3 id="8eachview-function">8、eachView  * Function *<a class="headerlink" href="#8eachview-function" title="Permanent link"></a></h3>
<p>facet 中每个 view 的配置。该属性比较特殊，可以直接等于一个函数，或者作为一个返回 View 的匿名函数嵌套在 <code>&lt;Facet&gt; Function &lt;Facet&gt;</code> 组件中使用。
代码如下，也可参见<a href="#shuoming">使用说明</a>。
<div class="codehilite"><pre>&lt;Facet type=&#39;matrix&#39; fields = {[&#39;cut&#39;,&#39;clarity&#39;]} eachView={(view, facet) =&gt; {
  view.point().position(&#39;carat*price&#39;);
}}／&gt;
</pre></div></p>
<p>!注意：<code>showTitle</code> 和 <code>autoSetAxis</code> 用于控制分面的默认行为；<code>colTitle</code> 和 <code>rowTitle</code> 是通过 <code>chart.guild().text()</code> 来实现的，所以所有 <code>chart.guild().text()</code> 的参数都生效。</p>
<h1 id="_11"><a href="#facetType">分面类型</a><a class="headerlink" href="#_11" title="Permanent link"></a></h1>
<h2 id="rect">rect 矩形分面<a class="headerlink" href="#rect" title="Permanent link"></a></h2>
<p>rect 矩形分面是 BizCharts 的默认分面类型。支持按照一个或者两个维度的数据划分，按照先列后行的顺序。
<div class="codehilite"><pre>&lt;Facet type=&#39;rect&#39; fields = {[&#39;cut&#39;,&#39;clarity&#39;]}&gt;
  //该匿名函数会转为 `eachView:function` 属性
  {(view, facet)=&gt;{
    view.point().position(&#39;carat*price&#39;).color(&#39;cut&#39;);
  }}
&lt;/Facet&gt;
</pre></div>
分面矩阵每列按照 <code>cut</code> 字段划分，每行按照 <code>clarity</code> 字段划分。</p>
<h2 id="list">list 水平列表分面<a class="headerlink" href="#list" title="Permanent link"></a></h2>
<p>该类型分面可以通过设置 <code>scale</code> 属性来指定每行可显示分面的个数，超出时会自动换行。</p>
<h2 id="circle">circle 圆形分面<a class="headerlink" href="#circle" title="Permanent link"></a></h2>
<h2 id="tree">tree 树形分面<a class="headerlink" href="#tree" title="Permanent link"></a></h2>
<p>提供了 <code>line</code> 和 <code>lineSmooth</code> 两个属性，用于配置连接各个分面的线的样式，其中：</p>
<ul>
<li>line，用于配置线的显示属性。</li>
<li>lineSmooth，各个树节点的连接线是否是平滑的曲线，默认为 false。</li>
</ul>
<p>下图展示了树形多层级的分面。</p>
<h2 id="mirror">mirror 镜像分面<a class="headerlink" href="#mirror" title="Permanent link"></a></h2>
<p>通过配置 <code>transpose</code> 属性为 true，可以将镜像分面翻转。</p>
<h2 id="matrix">matrix 矩阵分面<a class="headerlink" href="#matrix" title="Permanent link"></a></h2>
<h1 id="view_1">View<a class="headerlink" href="#view_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/view">View</a></p>
<p>父组件</p>
<ul>
<li><a href="#chart"><code>&lt;Chart /&gt;</code></a></li>
</ul>
<p>Child Components</p>
<ul>
<li><a href="#coord"><code>&lt;Coord/&gt;</code></a> 坐标系组件</li>
<li><a href="#axis"><code>&lt;Axis/&gt;</code></a> 坐标轴组件,特性跟<code>&lt;Chart/&gt;</code>一样，默认全部不显示，若配置一个轴显示，则全部轴显示。</li>
<li><a href="#geom"><code>&lt;Geom/&gt;</code></a> 几何标记组件</li>
<li><a href="#legend"><code>&lt;Legend/&gt;</code></a> 图例组件</li>
<li><a href="#tooltip"><code>&lt;Tooltip/&gt;</code></a> 提示框组件</li>
<li><a href="#guide"><code>&lt;Guide/&gt;</code></a> 辅助标记组件</li>
<li><a href="#facet"><code>&lt;Facet/&gt;</code></a> 分面组件</li>
<li><a href="#view"><code>&lt;View/&gt;</code></a> 视图组件</li>
</ul>
<p>视图，由 Chart 生成和管理，拥有自己独立的数据源、坐标系和图层，用于异构数据的可视化以及图表组合，一个 Chart 由一个或者多个视图 View 组成。因此 view 上的 api 同 chart 基本相同。</p>
<p>实际开发过程中，想要在一个图表中使用多个数据源可以用 view 实现。</p>
<p><strong>实际开发过程中，很多图表都可以采用View组件来实现，包含但不限于以下几个方面：</strong></p>
<ul>
<li>
<p>在同一个容器中出现两个或者更多不同坐标系的图表时，可以采用View组件来实现，如下图所示；<a href="https://alibaba.github.io/BizCharts/demo-detail.html?code=demo/pie/sunburst">Demo</a>
<!-- <img alt="image | center" src="https://img.alicdn.com/tfs/TB1GqOTa4rI8KJjy0FpXXb5hVXa-1600-856.png" /> --></p>
</li>
<li>
<p>同一个容器中的两个图表需要采用不同的数据源时，如下图所示：<a href="https://alibaba.github.io/BizCharts/demo-detail.html?code=demo/funnel/symmetric">Demo</a>
<!-- <img alt="image | center" src="https://img.alicdn.com/tfs/TB1w1flbhrI8KJjy0FpXXb5hVXa-1600-856.png" /> --></p>
</li>
</ul>
<div class="codehilite"><pre>// 这里只显示部分核心代码
<span class="p">&lt;</span><span class="nt">Chart</span> <span class="na">width</span><span class="o">=</span><span class="s">{600}</span> <span class="na">height</span><span class="o">=</span><span class="s">{400}</span> <span class="na">data</span><span class="o">=</span><span class="s">{data}</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">Coord</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;theta&quot;</span> <span class="na">radius</span><span class="o">=</span><span class="s">{0.5}</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">Geom</span>
  <span class="na">type</span><span class="o">=</span><span class="s">&quot;pie&quot;</span>
  <span class="na">position</span><span class="o">=</span><span class="s">{Stat.summary.percent(&#39;value&#39;)}</span>
  <span class="na">color</span><span class="o">=</span><span class="s">{[&#39;type&#39;,</span> <span class="err">[&#39;#</span><span class="na">4E7CCC</span><span class="err">&#39;,</span> <span class="err">&#39;#</span><span class="na">36B3C3</span><span class="err">&#39;,</span> <span class="err">&#39;#</span><span class="na">F9815C</span><span class="err">&#39;]]}</span>
<span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">View</span> <span class="na">data</span><span class="o">=</span><span class="s">{data}</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Coord</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;theta&quot;</span> <span class="na">inner</span><span class="o">=</span><span class="s">{0.75}</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">Geom</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;pie&quot;</span>
    <span class="na">position</span><span class="o">=</span><span class="s">{Stat.summary.percent(&#39;value&#39;)}</span>
    <span class="na">color</span><span class="o">=</span><span class="s">&quot;name&quot;</span>
  <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">View</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">Chart</span><span class="p">&gt;</span>
</pre></div>

<ul>
<li>
<p><code>id</code>  * String *
视图的 id 标识，用于唯一标定视图，如果用户不指定，G2 会默认提供一套 id 生成机制（‘view’ + views.length，如 view0, view1, …, viewN)。</p>
</li>
<li>
<p><code>start</code>   * Object *
绘制区域的起始坐标，x和y的取值范围均为0 -1。
我们的起始点是从<strong>左上角</strong>开始的。
参见:
<div class="codehilite"><pre>&lt;View start={{x:0.5, y:0.5}} /&gt;
</pre></div></p>
</li>
<li>
<p><code>end</code>     * Object *
绘制区域的结束坐标，x和y的取值范围均为0 -1。</p>
</li>
</ul>
<p>参见:
<div class="codehilite"><pre>&lt;View end={{x:0.5, y:0.5}} /&gt;
</pre></div></p>
<ul>
<li>
<p><code>data</code>    * Array | DataSet *
使用同 <code>Chart</code> 的 <a href="#chartdata">Chart.data 属性</a>。</p>
</li>
<li>
<p><code>animate</code>     * Boolean *
视图是否执行动画。
默认值:true。</p>
</li>
<li>
<p><code>scale</code>   * Object *
使用同 <code>Chart</code> 的 <a href="#chartscale">Chart.scale 属性</a>。</p>
</li>
<li>
<p><code>filter</code>  * Object *
使用同 <code>Chart</code> 的 <a href="#chartfilter">Chart.filer 属性</a>。</p>
</li>
</ul>
<h1 id="g2_1">G2<a class="headerlink" href="#g2_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/g2">G2</a></p>
<h1 id="animate_1">Animate<a class="headerlink" href="#animate_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/animate">Animate</a></p>
<h1 id="shape_1">Shape<a class="headerlink" href="#shape_1" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/shape">Shape</a></p>
<p>在 <code>&lt;Geom shape={shapeType} /&gt;</code> 中指定几何图形时，可以使用内置的 shape，也可以通过 Shape 来自定义 shape。</p>
<p>自定义 <code>Shape</code> 的使用如下：</p>
<div class="codehilite"><pre>var Shape = BizCharts.Shape;
//往 interval 几何标记对象（决定了图表类型，即柱状图、饼图等）上注册名字为 shapeName 的 Shape
var shapeObj = Shape.registerShape(&#39;geomType&#39;, &#39;shapeName&#39;, {
  getPoints: function(pointInfo) {
    // 获取每种 shape 绘制的关键点
  },
  draw: function(cfg, container) {
    // 自定义最终绘制的逻辑
  }
});

ReactDOM.render((
 &lt;Chart&gt;
   //在对应 geomType 的 &lt;Geom /&gt; 中使用注册过的名字为 shapeName 几何图形
   &lt;Geom type=&#39;interval&#39; shape=&#39;shapeName&#39; /&gt;
 &lt;/Chart&gt;
), container)
</pre></div>

<p>参数详解：</p>
<div class="codehilite"><pre>geomName  几何标记名, 如 point, line 等
shapeName 注册的具体图形名，自定义的图形的名称
getPoints 自定义形状绘制时需要的节点，比如柱状图需要 4 个节点
draw      执行图形绘制逻辑、调用绘图引擎
</pre></div>


<h2 id="shapegetpoints">Shape.getPoints<a class="headerlink" href="#shapegetpoints" title="Permanent link"></a></h2>
<p>计算绘制 shape 的关键点，每个几何形状都是由特定的几个关键点通过线连接而成。</p>
<p>参数</p>
<div class="codehilite"><pre>pointInfo Object pointInfo 数据结构如下，所有的数值都是归一化后的结果（即 0 至 1 范围内的数据）
{
    size: 0.1,  // 形状的尺寸，不同的 shape 该含义不同，0 - 1 范围的数据
    x: 0.2,     // 该点归一化后的 x 坐标
    y: 0.13,    // 该点归一化后的 y 坐标
    y0: 0.1     // 整个数据集 y 轴对应数据的最小值，也是归一化后的数据，注意如果 y 对应的源数据是数组则 y 也将是个数组
}
</pre></div>


<p>返回包含绘制关键点的数组，即 Array&lt;{x: number, y: number}&gt;。</p>
<p>下表列出了 G2 各个 geom 几何形状的关键点形成机制：</p>
<table>
<thead>
<tr>
<th>geom 类型</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>point</td>
<td>点的绘制很简单，只要获取它的坐标以及大小即可，其中的 <code>size</code> 属性代表的是点的半径。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/940c75cf-8400-415a-9e2d-040ce46e6a03/attach/3378/269e0e2c77a555a5/image.png" /></td>
</tr>
<tr>
<td>line</td>
<td>线其实是由无数个点组成，在 G2 中我们将参与绘制的各个数据转换成坐标上的点然后通过线将逐个点连接而成形成线图，其中的 <code>size</code> 属性代表的是线的粗细。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/f9b84b83-1cc8-4b81-9319-f643ef0e280a/attach/3378/d49e02be2f48a136/image.png" /></td>
</tr>
<tr>
<td>area</td>
<td>area 面其实是在 line 线的基础之上形成的, 它将折线图中折线与自变量坐标轴之间的区域使用颜色或者纹理填充。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/dbcd60f3-7662-4ebd-8e0e-85d7d754d0c7/attach/3378/f67277978d5d8e3e/image.png" /></td>
</tr>
<tr>
<td>interval</td>
<td>interval 默认的图形形状是矩形，而矩形实际是由四个点组成的，在 G2 中我们根据 pointInfo 中的 x、y、size 以及 y0 这四个值来计算出这四个点，然后顺时针连接而成。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/f36a2e27-13e8-4d55-8c93-b698e15bcc1f/attach/3378/94a6515e2eb60265/image.png" /></td>
</tr>
<tr>
<td>polygon</td>
<td>polygon 多边形其实也是由多个点连接而成，在 pointInfo 中 x 和 y 都是数组结构。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/b4f6981c-ccd3-4237-97bd-dd88950758ea/attach/3378/ed2b5c05a1ff3581/image.png" /></td>
</tr>
<tr>
<td>schema</td>
<td>schema 作为一种自定义的几何图形，在 G2 中默认提供了 box 和 candle 两种 shape，分别用于绘制箱型图和股票图，注意这两种形状的矩形部分四个点的连接顺序都是顺时针，并且起始点均为左下角，这样就可以无缝转换至极坐标。<br><img alt="image" src="https://zos.alipayobjects.com/skylark/340c229d-be30-4f98-8a2a-8d55c8422645/attach/3378/1bfed6f3f5f90e13/image.png" /><img alt="image" src="https://zos.alipayobjects.com/skylark/8afa13da-95d1-4282-a08b-f1c421b0d972/attach/3378/d82c45d3a526bd80/image.png" /></td>
</tr>
<tr>
<td>edge</td>
<td>edge 边同 line 线一致，区别就是 edge 是一个线段，连接边的两个端点即可。</td>
</tr>
</tbody>
</table>
<h2 id="shapedraw">Shape.draw<a class="headerlink" href="#shapedraw" title="Permanent link"></a></h2>
<p>getPoints 用于计算绘制 shape 的关键点，那么 draw 方法就是用来定义如何连接这些关键点的。</p>
<p>参数
cfg object
该参数包含经过图形映射后的所有数据以及该数据对应的原始数据</p>
<p>原始数据存储于 <code>cfg.origin._origin</code> 中，通过 getPoints 计算出的图形关键点都储存于 points 中。而 cfg 对象中的 color、size、shape 都是通过映射之后的图形属性数据，可以直接使用。</p>
<p>container G2.G.Group
图形容器，需要将自定义的 shape 加入该容器中才能最终渲染出来。</p>
<p>返回值
返回创建好的 shape，即 container.add(geomType, shapAttrs) 的返回值。</p>
<h2 id="shape_2">Shape 方法<a class="headerlink" href="#shape_2" title="Permanent link"></a></h2>
<p>自定义 shape 时，可使用内置的工具方法来快速将归一化后的数据转换为画布上的坐标，如下面示例使用了 parsePath 方法：</p>
<div class="codehilite"><pre>Shape.registerShape(&#39;interval&#39;, &#39;rect&#39;, {
  getPoints(pointInfo) {
    // ...
  },
  draw(cfg, container) {
    // ...
    path = this.parsePath(path);
    // ...
  }
});
</pre></div>


<h2 id="parsepoint">parsePoint<a class="headerlink" href="#parsepoint" title="Permanent link"></a></h2>
<p>方法名： <code>shapeObj.parsePoint(point)</code></p>
<p>说明：将 0 - 1 范围内的点转化为画布上的实际坐标。</p>
<p>参数</p>
<ul>
<li><code>point</code>: object</li>
</ul>
<p>结构如下：</p>
<div class="codehilite"><pre><span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="mf">0.3</span><span class="p">,</span>
  <span class="nx">y</span><span class="o">:</span> <span class="mf">0.34</span>
<span class="p">}</span>
</pre></div>

<h2 id="parsepoints">parsePoints<a class="headerlink" href="#parsepoints" title="Permanent link"></a></h2>
<p>方法名：<code>shapeObj.parsePoints(points)</code></p>
<p>说明：将一组 0 - 1 范围内的点转化为画布上的实际坐标。</p>
<p>参数</p>
<ul>
<li><code>point</code>: Array</li>
</ul>
<p>结构如下：</p>
<div class="codehilite"><pre><span class="p">[</span>
  <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0.34</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0.34</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<h2 id="parsepath">parsePath<a class="headerlink" href="#parsepath" title="Permanent link"></a></h2>
<p>方法名：<code>shapeObj.parsePath(path, isCircle)</code></p>
<p>说明：将形状的关键点连接之后形成的 path，如果依然是归一化后的数据的话，就可以调用该方法将其转化了画布上的坐标值。</p>
<p>参数</p>
<ul>
<li><code>path</code>: String</li>
</ul>
<p>连接各个关键的路径，例如：&rsquo;M0 0C0,0,0.0315&hellip;5785,0,0.675,0,0.675z&rsquo;。</p>
<ul>
<li><code>isCircle</code>: Boolean</li>
</ul>
<p>是否是极坐标。如果是极坐标，该方法会自动进行转曲。</p>
<h2 id="_12">代码示例<a class="headerlink" href="#_12" title="Permanent link"></a></h2>
<p>下面通过一个例子来加深下理解。</p>
<div class="codehilite"><pre>&lt;div id=&quot;c1&quot;&gt;&lt;/div&gt;
</pre></div>


<div class="codehilite"><pre>const Shape = G2.Shape;
Shape.registerShape(&#39;interval&#39;, &#39;triangle&#39;, {
  getPoints(cfg) {
    const x = cfg.x;
    const y = cfg.y;
    const y0 = cfg.y0;
    const width = cfg.size;
    return [
      { x: x - width / 2, y: y0 },
      { x: x, y: y },
      { x: x + width / 2, y: y0 }
    ]
  },
  draw(cfg, group) {
    const points = this.parsePoints(cfg.points); // 将0-1空间的坐标转换为画布坐标
    const polygon = group.addShape(&#39;polygon&#39;, {
      attrs: {
        points: [
          [ points[0].x, points[0].y ],
          [ points[1].x, points[1].y ],
          [ points[2].x, points[2].y ]
        ],
        fill: cfg.color
      }
    });
    return polygon; // 将自定义Shape返回
  }
});

const data = [
  { genre: &#39;Sports&#39;, sold: 275 },
  { genre: &#39;Strategy&#39;, sold: 115 },
  { genre: &#39;Action&#39;, sold: 120 },
  { genre: &#39;Shooter&#39;, sold: 350 },
  { genre: &#39;Other&#39;, sold: 150 }
];

const chart = new G2.Chart({
  id: &#39;c1&#39;,
  height : 300,
  forceFit: true,
});

chart.source(data);
chart.interval().position(&#39;genre*sold&#39;).color(&#39;genre&#39;).shape(&#39;triangle&#39;);
chart.render();
</pre></div>

<p>自定义 Shape 的完整代码如下：</p>
<div class="codehilite"><pre><span class="kr">const</span> <span class="nx">Shape</span> <span class="o">=</span> <span class="nx">G2</span><span class="p">.</span><span class="nx">Shape</span><span class="p">;</span>
<span class="nx">Shape</span><span class="p">.</span><span class="nx">registerShape</span><span class="p">(</span><span class="s1">&#39;interval&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">getPoints</span><span class="p">(</span><span class="nx">cfg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">x</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">y0</span> <span class="o">=</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">y0</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span> <span class="o">-</span> <span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y0</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y0</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">draw</span><span class="p">(</span><span class="nx">cfg</span><span class="p">,</span> <span class="nx">group</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">points</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parsePoints</span><span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">points</span><span class="p">);</span> <span class="c1">// 将0-1空间的坐标转换为画布坐标</span>
    <span class="kr">const</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">group</span><span class="p">.</span><span class="nx">addShape</span><span class="p">(</span><span class="s1">&#39;polygon&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">attrs</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">points</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">[</span> <span class="nx">points</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">points</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span> <span class="p">],</span>
          <span class="p">[</span> <span class="nx">points</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">points</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span> <span class="p">],</span>
          <span class="p">[</span> <span class="nx">points</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">points</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span> <span class="p">]</span>
        <span class="p">],</span>
        <span class="nx">fill</span><span class="o">:</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">color</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">polygon</span><span class="p">;</span> <span class="c1">// 将自定义Shape返回</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h1 id="sliderplugin">sliderPlugin<a class="headerlink" href="#sliderplugin" title="Permanent link"></a></h1>
<p><a href="https://bizcharts.net/products/bizCharts/api/sliderPlugin">sliderPlugin</a></p>
<p>bizcharts-plugin-slider</p>
<p>A datazoom slider plugin for BizCharts base g2-plugin-slider.</p>
<h2 id="installation_1">Installation<a class="headerlink" href="#installation_1" title="Permanent link"></a></h2>
<p>Please make sure BizCharts has been already loaded.</p>
<p>npm</p>
<div class="codehilite"><pre>$ npm install bizcharts-plugin-slider
</pre></div>


<p>html</p>
<div class="codehilite"><pre>&lt;script src=&quot;https://unpkg.com/bizcharts-plugin-slider@2.0.0/umd/bizcharts-plugin-slider.js&quot;&gt;&lt;/script&gt;
</pre></div>


<p>dev build</p>
<div class="codehilite"><pre>$ git clone https://github.com/alibaba/BizCharts.git
$ cd BizCharts
$ cd /plugin/slider
$ npm install
$ npm run build
</pre></div>


<p>dev demo</p>
<div class="codehilite"><pre>slider $ sudo vi /etc/hosts
// add 127.0.0.1 localhost
slider $ npm run demo
// open in browser http://localhost:3510/
</pre></div>


<p>Usage
see demo</p>
<p>Create an instance</p>
<div class="codehilite"><pre>&lt;Slider
  width={{number} | {string}}
  height={number}
  padding={{object} | {number} | {array}}
  xAxis={string}
  yAxis={string}
  start={{string} | {number}}
  end={{string} | {number}}
  data={{array} | {dataview}}
  fillerStyle={object}
  backgroundStyle={object}
  textStyle={object}
  handleStyle={object}
  backgroundChart={object}
/&gt;
</pre></div>


<h2 id="sliderpluginwidth">sliderPlugin.width<a class="headerlink" href="#sliderpluginwidth" title="Permanent link"></a></h2>
<p>类型：number | string
描述：Set the width of the slider component, the default is auto, indicating the width of the adaptive container.</p>
<h2 id="sliderpluginheight">sliderPlugin.height<a class="headerlink" href="#sliderpluginheight" title="Permanent link"></a></h2>
<p>类型：number
描述：Set the height of the slider component, the default is 26, the unit is &lsquo;px&rsquo;.</p>
<h2 id="sliderpluginpadding">sliderPlugin.padding<a class="headerlink" href="#sliderpluginpadding" title="Permanent link"></a></h2>
<p>类型：Array
描述：Sets the padding canvas&rsquo;s canvas&rsquo;s padding to align with the chart (the default chart&rsquo;s canvas container is padded with padding). The default is the same padding as BizCharts default theme, [20, 20, 95, 80].</p>
<h2 id="sliderpluginxaxis">sliderPlugin.xAxis<a class="headerlink" href="#sliderpluginxaxis" title="Permanent link"></a></h2>
<p>类型：string
描述：Must declare Slider is a slider component with a background graph that is used to declare the horizontal axis mapping field of the background chart, which is also the data filtering field.</p>
<h2 id="sliderpluginyaxis">sliderPlugin.yAxis<a class="headerlink" href="#sliderpluginyaxis" title="Permanent link"></a></h2>
<p>类型：string
描述：Must declare Slider is a slider component with a background graph that is used to declare the vertical axis of the background graph.</p>
<h2 id="sliderplugindata">sliderPlugin.data<a class="headerlink" href="#sliderplugindata" title="Permanent link"></a></h2>
<p>类型： array | dataview
描述：Must declare，data source.</p>
<h2 id="sliderpluginstart">sliderPlugin.start<a class="headerlink" href="#sliderpluginstart" title="Permanent link"></a></h2>
<p>类型：number | string
描述：The value of the slider that declares the position of the slider at the beginning of the corresponding data value, the default is the minimum value.</p>
<h2 id="sliderpluginend">sliderPlugin.end<a class="headerlink" href="#sliderpluginend" title="Permanent link"></a></h2>
<p>类型：number | string
描述：The data value corresponding to the position where the slider finishes the slider is declared, and the default is the maximum value.</p>
<h2 id="sliderpluginscales">sliderPlugin.scales<a class="headerlink" href="#sliderpluginscales" title="Permanent link"></a></h2>
<p>类型：object
描述：Used to define the columns for the xAxis and yAxis fields for the same column definitions in the action&rsquo;s chart.
Sample code:</p>
<p><Slider
      scales={{
        [<code>${xAxis}</code>]: {
          type: 'time',
          mask: 'MM-DD'
        }
      }}
  /></p>
<h2 id="sliderpluginfillerstyle-object">sliderPlugin.fillerStyle object<a class="headerlink" href="#sliderpluginfillerstyle-object" title="Permanent link"></a></h2>
<p>类型：number | string
描述：
The selected area of the style configuration, the default configuration is as follows:</p>
<p><Slider
    fillerStyle={{
      fill: '#BDCCED',
      fillOpacity: 0.3
    }}
  />
Red box in the picture selected area: </p>
<h2 id="sliderpluginbackgroundstyle">sliderPlugin.backgroundStyle<a class="headerlink" href="#sliderpluginbackgroundstyle" title="Permanent link"></a></h2>
<p>类型：object
描述：slider background style.</p>
<h2 id="sliderplugintextstyle">sliderPlugin.textStyle<a class="headerlink" href="#sliderplugintextstyle" title="Permanent link"></a></h2>
<p>类型： object
描述：slider auxiliary text font style configuration.</p>
<h2 id="sliderpluginhandlestyle">sliderPlugin.handleStyle<a class="headerlink" href="#sliderpluginhandlestyle" title="Permanent link"></a></h2>
<p>类型： object
描述：The slider style configuration, configurable properties are as follows:</p>
<div class="codehilite"><pre>  &lt;Slider
  handleStyle={{
    img: &#39;https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png&#39;, // Can make the picture address can also be data urls
    width: 5,
    height: 26
  }}
/&gt;
</pre></div>


<h2 id="sliderpluginbackgroundchart">sliderPlugin.backgroundChart<a class="headerlink" href="#sliderpluginbackgroundchart" title="Permanent link"></a></h2>
<p>类型：object
描述：The slider&rsquo;s background chart configuration allows you to configure its chart type and color:</p>
<div class="codehilite"><pre>&lt;Slider
  backgroundChart={{
  type: [ &#39;area&#39; ], // The type of chart, either a string or an array
  color: &#39;#CCD6EC&#39;
  }}
/&gt;
</pre></div>


<h2 id="onchange">onChange<a class="headerlink" href="#onchange" title="Permanent link"></a></h2>
<p>类型：function
描述：When the slider slider changes, trigger the callback function, mainly used to update the state of ds. The callback function provides a parameter, which is an object that contains the following properties:</p>
<div class="codehilite"><pre>&lt;Slider
onChange = {(obj) =&gt; {
  const { startValue, endValue, startText, endText } = obj;
}}
/&gt;


-  `startValue` The current raw data value corresponding to the start slider, if the type is` time` or `timeCat`, the value is timestamp, please note.
-  `endValue` The current corresponding raw data value of the end slider, if the type is` time` or `timeCat`, the value is timestamp, please note.
-  `startText` Start slider current display text value
-  `endText` The current display text value of the end slider
</pre></div></article></body></html>